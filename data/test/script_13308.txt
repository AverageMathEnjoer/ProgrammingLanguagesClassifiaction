b'/**\n * Copyright (C) 2020 Fernando Cejas Open Source Project\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\npackage com.fernandocejas.sample.core.platform\n\nimport androidx.lifecycle.MutableLiveData\nimport com.fernandocejas.sample.AndroidTest\nimport com.fernandocejas.sample.core.exception.Failure\nimport com.fernandocejas.sample.core.exception.Failure.NetworkConnection\nimport org.amshove.kluent.shouldBeInstanceOf\nimport org.junit.Test\n\nclass BaseViewModelTest : AndroidTest() {\n\n    @Test fun `should handle failure by updating live data`() {\n        val viewModel = MyViewModel()\n\n        viewModel.handleError(NetworkConnection)\n\n        val failure = viewModel.failure\n        val error = viewModel.failure.value\n\n        failure shouldBeInstanceOf MutableLiveData::class.java\n        error shouldBeInstanceOf NetworkConnection::class.java\n    }\n\n    private class MyViewModel : BaseViewModel() {\n        fun handleError(failure: Failure) = handleFailure(failure)\n    }\n}'