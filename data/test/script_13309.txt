b'/*Copyright \xc2\xa9  2017 Lyons. All rights reserved. */\npackage lyons.common.controller.goods;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport lyons.common.controller.BaseController;\nimport lyons.common.model.goods.GCar;\nimport lyons.common.service.goods.GCarService;\nimport lyons.common.utils.ResultUtil;\nimport lyons.common.utils.enums.GoodsStaEnum;\n\n/**\n * @Description: \xe8\xb4\xad\xe7\x89\xa9\xe8\xbd\xa6\xe5\x88\xa0\xe9\x99\xa4\xe3\x80\x81\xe6\xb7\xbb\xe5\x8a\xa0\n * @ClassName: CarController\n * @author: lyons<zhanglei>\n * @date: 2017\xe5\xb9\xb42\xe6\x9c\x8810\xe6\x97\xa5 \xe4\xb8\x8b\xe5\x8d\x888:29:30\n * @version: [1.0]\n */\n@Controller\npublic class CarController extends BaseController\n{\n    @Autowired\n    private GCarService gCarService;\n    \n    @RequestMapping("/myCar")\n    public String myCar(Model model)\n    {\n        initData();\n        model.addAttribute("carList", gCarService.findMyCar(getCurrentUsername()));\n        \n        return "/order/car";\n    }\n     \n    /**\n     * @Title: carDelete\n     * @Description: \xe4\xbb\x8e\xe8\xb4\xad\xe7\x89\xa9\xe8\xbd\xa6\xe5\x88\xa0\xe9\x99\xa4\n     * @param car\n     * @return: String\n     */\n    @RequestMapping(value="/carDelete", method = RequestMethod.POST,\n        produces = {"application/json;charset=UTF-8"})\n    @ResponseBody\n    public String delete(String gCarGId)\n    {\n        /**\n         * TODO try catch\xe6\x8a\x9b\xe5\xbc\x82\xe5\xb8\xb8\n         */\n        gCarService.carDelete(getCurrentUsername(),gCarGId);\n        return ResultUtil.getJson(GoodsStaEnum.success.getState());\n\n    }\n    \n    /**\n     * @Title: add\n     * @Description: \xe6\xb7\xbb\xe5\x8a\xa0\xe5\x95\x86\xe5\x93\x81\xe5\x88\xb0\xe8\xb4\xad\xe7\x89\xa9\xe8\xbd\xa6\n     * @param car\n     * @return\n     * @return: String\n     */\n    @RequestMapping(value="/carAdd", method = RequestMethod.POST,\n        produces = {"application/json;charset=UTF-8"})\n    @ResponseBody\n    public String add(GCar car)\n    {\n        /**\n         * TODO try catch\xe6\x8a\x9b\xe5\xbc\x82\xe5\xb8\xb8\n         */\n        String username = getCurrentUsername();\n        car.setgCarUName(username);\n        gCarService.carAdd(car);\n        return ResultUtil.getJson(GoodsStaEnum.success.getState());\n        \n    }\n}\n'