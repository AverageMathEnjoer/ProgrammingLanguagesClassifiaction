b'// UVa1608 Non-boring sequences\n// Rujia Liu\n#include<cstdio>\n#include<map>\nusing namespace std;\n\nconst int maxn = 200000 + 5;\nint A[maxn], prev[maxn], next[maxn];\nmap<int, int> cur;\n\ninline bool unique(int p, int L, int R) {\n  return prev[p] < L && next[p] > R;\n}\n\nbool check(int L, int R) {\n  if(L >= R) return true;\n  for(int d = 0; L+d <= R-d; d++) {\n    if(unique(L+d, L, R))\n      return check(L, L+d-1) && check(L+d+1, R);\n    if(L+d == R-d) break;\n    if(unique(R-d, L, R))\n      return check(R-d+1, R) && check(L, R-d-1);\n  }\n  return false;\n}\n\nint main() {\n  int T, n;\n  scanf("%d", &T);\n  while(T--) {\n    scanf("%d", &n);\n    cur.clear();\n    for(int i = 0; i < n; i++) {\n      scanf("%d", &A[i]);\n      if(!cur.count(A[i])) prev[i] = -1;\n      else prev[i] = cur[A[i]];\n      cur[A[i]] = i;\n    }\n    cur.clear();\n    for(int i = n-1; i >= 0; i--) {\n      if(!cur.count(A[i])) next[i] = n;\n      else next[i] = cur[A[i]];\n      cur[A[i]] = i;\n    }\n\n    if(check(0, n-1)) printf("non-boring\\n");\n    else printf("boring\\n");\n  }\n  return 0;\n}\n'