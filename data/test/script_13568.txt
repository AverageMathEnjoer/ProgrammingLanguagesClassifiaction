b'\xef\xbb\xbf// UVa11988 Broken Keyboard\n// Rujia Liu\n#include<cstdio>\n#include<cstring>\nconst int maxn = 100000 + 5;\nint last, cur, next[maxn]; // \xe5\x85\x89\xe6\xa0\x87\xe4\xbd\x8d\xe4\xba\x8ecur\xe5\x8f\xb7\xe5\xad\x97\xe7\xac\xa6\xe4\xb9\x8b\xe5\x90\x8e\xe9\x9d\xa2\nchar s[maxn];\n\nint main() {\n  while(scanf("%s", s+1) == 1) {\n    int n = strlen(s+1); // \xe8\xbe\x93\xe5\x85\xa5\xe4\xbf\x9d\xe5\xad\x98\xe5\x9c\xa8s[1], s[2]...\xe4\xb8\xad\n    last = cur = 0;\n    next[0] = 0;\n\n    for(int i = 1; i <= n; i++) {\n      char ch = s[i];\n      if(ch == \'[\') cur = 0;\n      else if(ch == \']\') cur = last;\n      else {\n        next[i] = next[cur];\n        next[cur] = i;\n        if(cur == last) last = i; // \xe6\x9b\xb4\xe6\x96\xb0\xe2\x80\x9c\xe6\x9c\x80\xe5\x90\x8e\xe4\xb8\x80\xe4\xb8\xaa\xe5\xad\x97\xe7\xac\xa6\xe2\x80\x9d\xe7\xbc\x96\xe5\x8f\xb7\n        cur = i; // \xe7\xa7\xbb\xe5\x8a\xa8\xe5\x85\x89\xe6\xa0\x87\n      }\n    }\n    for(int i = next[0]; i != 0; i = next[i])\n      printf("%c", s[i]);\n    printf("\\n");\n  }\n  return 0;\n}\n'