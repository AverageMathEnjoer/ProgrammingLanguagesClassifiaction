b'{-# LANGUAGE DataKinds #-}\n{-# LANGUAGE DeriveGeneric #-}\n{-# LANGUAGE TypeOperators #-}\n\nmodule Cachix.API.Deploy.V1 where\n\nimport Cachix.API (CachixAuth)\nimport qualified Cachix.Types.Deploy as Deploy\nimport qualified Cachix.Types.DeployResponse.V1 as DeployResponse.V1\nimport qualified Cachix.Types.Deployment as Deployment\nimport Data.UUID (UUID)\nimport Protolude\nimport Servant.API\nimport Servant.API.Generic\n\ntype API = "api" :> "v1" :> ToServantApi DeployAPI\n\ndata DeployAPI route = DeployAPI\n  { activate :: route :- Activate,\n    getDeployment :: route :- GetDeployment\n  }\n  deriving (Generic)\n\ntype Activate =\n  CachixAuth\n    :> "deploy"\n    :> "activate"\n    :> ReqBody \'[JSON] Deploy.Deploy\n    :> Post \'[JSON] DeployResponse.V1.DeployResponse\n\ntype GetDeployment =\n  CachixAuth\n    :> "deploy"\n    :> "deployment"\n    :> Capture "uuid" UUID\n    :> Get \'[JSON] Deployment.Deployment\n'