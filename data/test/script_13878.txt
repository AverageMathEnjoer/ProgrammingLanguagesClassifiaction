b'import com.github.eprendre.tingshu.extensions.config\nimport com.github.eprendre.tingshu.utils.Episode\nimport com.google.gson.Gson\nimport org.jsoup.Jsoup\nimport org.junit.Test\n\nclass ZhongBanTest {\n    @Test\n    fun bookDetail() {\n        val bookUrl = "http://ebook.3eol.com.cn/database/webreader/Index?id=466&resid=17&libraryid=0&enc=9e8c98f05fc79f43e26b28ccab9d9e63"\n        val doc = Jsoup.connect(bookUrl).testConfig().get()\n\n        val script = doc.select("script").first { it.html().contains("audio.audioSrcArr = ") }.html().trim()\n        println(script)\n        val srcJson = Regex("audioSrcArr = (\\\\[.+])").find(script)!!.groupValues[1]\n        val titleJson = Regex("audioTitleArr = (\\\\[.+])").find(script)!!.groupValues[1]\n        val srcArray = Gson().fromJson(srcJson, Array<String>::class.java)\n        val titleArray = Gson().fromJson(titleJson, Array<String>::class.java)\n        val episodes = ArrayList<Episode>()\n        titleArray.forEachIndexed  { index, title ->\n            val episode = Episode(title, "http://ebook.3eol.com.cn${srcArray[index]}")\n            episodes.add(episode)\n        }\n\n        episodes.take(10).forEach {\n            println(it)\n        }\n        assert(episodes.isNotEmpty())\n    }\n}'