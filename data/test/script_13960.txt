b'/*\n * Copyright 2013 - 2016 Mario Arias\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * \thttp://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage org.funktionale.playground.m\n\nimport org.funktionale.memoization.memoize\n\n/**\n * Created by IntelliJ IDEA.\n * @author Mario Arias\n * Date: 13/02/16\n * Time: 9:09 PM\n */\n\nfun main(args: Array<String>) {\n\n    var fib: (Long) -> Long = { it }\n    fib = { n: Long ->\n        if (n < 2) n else fib(n - 1) + fib(n - 2)\n    }\n    var m: (Long) -> Long = { it }\n    m = { n: Long ->\n        if (n < 2) n else m(n - 1) + m(n - 2)\n    }.memoize()\n\n    println(timeElapsed { fib(40) })\n    println(timeElapsed { fib_(40) })\n\n    println(timeElapsed { m(40) })\n}\n\nfun fib_(n: Long): Long = when (n) {\n        0L -> 0\n        1L -> 1\n        else -> {\n            var a = 0L\n            var b = 1L\n            var c = 0L\n            for (it in 2..n) {\n                c = a + b\n                a = b\n                b = c\n            }\n            c\n        }\n    }\n\nfun timeElapsed(body: () -> Unit): Long {\n    val start = System.currentTimeMillis()\n    body()\n    val end = System.currentTimeMillis()\n    return end - start\n}\n'