b'package com.zzg.mybatis.generator.plugins;\n\n/**\n * Created by zouzhigang on 2016/6/14.\n */\n\nimport org.mybatis.generator.api.IntrospectedTable;\nimport org.mybatis.generator.api.PluginAdapter;\nimport org.mybatis.generator.api.dom.java.*;\nimport org.mybatis.generator.api.dom.xml.Attribute;\nimport org.mybatis.generator.api.dom.xml.TextElement;\nimport org.mybatis.generator.api.dom.xml.XmlElement;\n\nimport java.util.List;\n\npublic class MySQLLimitPlugin extends PluginAdapter {\n\n    @Override\n    public boolean validate(List<String> list) {\n        return true;\n    }\n\n    /**\n     * \xe4\xb8\xba\xe6\xaf\x8f\xe4\xb8\xaaExample\xe7\xb1\xbb\xe6\xb7\xbb\xe5\x8a\xa0limit\xe5\x92\x8coffset\xe5\xb1\x9e\xe6\x80\xa7\xe5\xb7\xb2\xe7\xbb\x8fset\xe3\x80\x81get\xe6\x96\xb9\xe6\xb3\x95\n     */\n    @Override\n    public boolean modelExampleClassGenerated(TopLevelClass topLevelClass, IntrospectedTable introspectedTable) {\n\n        PrimitiveTypeWrapper integerWrapper = FullyQualifiedJavaType.getIntInstance().getPrimitiveTypeWrapper();\n        PrimitiveTypeWrapper longWrapper = new FullyQualifiedJavaType("long").getPrimitiveTypeWrapper();\n\n        Field limit = new Field();\n        limit.setName("limit");\n        limit.setVisibility(JavaVisibility.PRIVATE);\n        limit.setType(integerWrapper);\n        topLevelClass.addField(limit);\n\n        Method setLimit = new Method();\n        setLimit.setVisibility(JavaVisibility.PUBLIC);\n        setLimit.setName("setLimit");\n        setLimit.addParameter(new Parameter(integerWrapper, "limit"));\n        setLimit.addBodyLine("this.limit = limit;");\n        topLevelClass.addMethod(setLimit);\n\n        Method getLimit = new Method();\n        getLimit.setVisibility(JavaVisibility.PUBLIC);\n        getLimit.setReturnType(integerWrapper);\n        getLimit.setName("getLimit");\n        getLimit.addBodyLine("return limit;");\n        topLevelClass.addMethod(getLimit);\n\n        Field offset = new Field();\n        offset.setName("offset");\n        offset.setVisibility(JavaVisibility.PRIVATE);\n        offset.setType(longWrapper);\n        topLevelClass.addField(offset);\n\n        Method setOffset = new Method();\n        setOffset.setVisibility(JavaVisibility.PUBLIC);\n        setOffset.setName("setOffset");\n        setOffset.addParameter(new Parameter(longWrapper, "offset"));\n        setOffset.addBodyLine("this.offset = offset;");\n        topLevelClass.addMethod(setOffset);\n\n        Method getOffset = new Method();\n        getOffset.setVisibility(JavaVisibility.PUBLIC);\n        getOffset.setReturnType(longWrapper);\n        getOffset.setName("getOffset");\n        getOffset.addBodyLine("return offset;");\n        topLevelClass.addMethod(getOffset);\n\n        return true;\n    }\n\n    /**\n     * \xe4\xb8\xbaMapper.xml\xe7\x9a\x84selectByExample\xe6\xb7\xbb\xe5\x8a\xa0limit\n     */\n    @Override\n    public boolean sqlMapSelectByExampleWithoutBLOBsElementGenerated(XmlElement element,\n                                                                     IntrospectedTable introspectedTable) {\n\n        XmlElement ifLimitNotNullElement = new XmlElement("if");\n        ifLimitNotNullElement.addAttribute(new Attribute("test", "limit != null"));\n\n        XmlElement ifOffsetNotNullElement = new XmlElement("if");\n        ifOffsetNotNullElement.addAttribute(new Attribute("test", "offset != null"));\n        ifOffsetNotNullElement.addElement(new TextElement("limit ${offset}, ${limit}"));\n        ifLimitNotNullElement.addElement(ifOffsetNotNullElement);\n\n        XmlElement ifOffsetNullElement = new XmlElement("if");\n        ifOffsetNullElement.addAttribute(new Attribute("test", "offset == null"));\n        ifOffsetNullElement.addElement(new TextElement("limit ${limit}"));\n        ifLimitNotNullElement.addElement(ifOffsetNullElement);\n\n        element.addElement(ifLimitNotNullElement);\n\n        return true;\n    }\n\n    /**\n     * \xe4\xb8\xbaMapper.xml\xe7\x9a\x84selectByExampleWithBLOBs\xe6\xb7\xbb\xe5\x8a\xa0limit\n     */\n    @Override\n    public boolean sqlMapSelectByExampleWithBLOBsElementGenerated(XmlElement element, IntrospectedTable introspectedTable) {\n        XmlElement ifLimitNotNullElement = new XmlElement("if");\n        ifLimitNotNullElement.addAttribute(new Attribute("test", "limit != null"));\n\n        XmlElement ifOffsetNotNullElement = new XmlElement("if");\n        ifOffsetNotNullElement.addAttribute(new Attribute("test", "offset != null"));\n        ifOffsetNotNullElement.addElement(new TextElement("limit ${offset}, ${limit}"));\n        ifLimitNotNullElement.addElement(ifOffsetNotNullElement);\n\n        XmlElement ifOffsetNullElement = new XmlElement("if");\n        ifOffsetNullElement.addAttribute(new Attribute("test", "offset == null"));\n        ifOffsetNullElement.addElement(new TextElement("limit ${limit}"));\n        ifLimitNotNullElement.addElement(ifOffsetNullElement);\n\n        element.addElement(ifLimitNotNullElement);\n\n        return true;\n    }\n}\n'