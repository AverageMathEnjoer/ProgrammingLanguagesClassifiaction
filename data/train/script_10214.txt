b'package com.zzg.mybatis.generator.controller;\n\nimport javafx.animation.RotateTransition;\nimport javafx.animation.Timeline;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.util.Duration;\n\n\nimport static javafx.scene.paint.Color.DARKSEAGREEN;\n\npublic class PictureProcessStateController {\n    private ImageView dbImage = new ImageView("icons/SSH_tunnel.png");\n    private final Rectangle rect = new Rectangle(20, 20, 30, 30);\n    private final RotateTransition rotateTransition = new RotateTransition();\n    private final Text text = new Text("");\n    private final Stage dialogStage = new Stage(StageStyle.TRANSPARENT);\n    private double initX;\n    private double initY;\n    private Stage parentStage;\n    private final Button button = new Button("");\n    public void setDialogStage(Stage stage) {\n        this.parentStage = stage;\n    }\n\n    public void startPlay() {\n        dbImage.setFitHeight(192);\n        dbImage.setFitWidth(798);\n        Group rootGroup = new Group();\n        Scene scene = new Scene(rootGroup, 800, 212, Color.TRANSPARENT);\n        dialogStage.initModality(Modality.APPLICATION_MODAL);\n        dialogStage.setScene(scene);\n        dialogStage.initOwner(parentStage);\n        dialogStage.centerOnScreen();\n        dialogStage.setTitle("OverSSH");\n\n        rect.setArcHeight(10);\n        rect.setArcWidth(10);\n        rect.setFill(DARKSEAGREEN);\n\n        rotateTransition.setNode(rect);\n        rotateTransition.setDuration(Duration.seconds(0.8d));\n        rotateTransition.setFromAngle(0);\n        rotateTransition.setToAngle(720);\n        rotateTransition.setCycleCount(Timeline.INDEFINITE);\n        rotateTransition.setAutoReverse(true);\n        VBox vBoxRect = new VBox();\n        vBoxRect.setAlignment(Pos.TOP_CENTER);\n        vBoxRect.getChildren().add(rect);\n        VBox.setMargin(rect, new Insets(125, 0, 0, 350));\n        rotateTransition.play();\n\n\n        text.setFont(Font.font(12));\n        VBox vBoxLabel = new VBox();\n        vBoxLabel.getChildren().add(text);\n        VBox.setMargin(text, new Insets(175, 0, 15, 40));\n\n\n        button.setPrefSize(90, 40);\n        HBox hBoxButton = new HBox();\n        hBoxButton.setPrefSize(505, 170);\n        hBoxButton.getChildren().add(button);\n        hBoxButton.setAlignment(Pos.BOTTOM_RIGHT);\n        hBoxButton.getStylesheets().add(Thread.currentThread().getContextClassLoader().getResource("style.css").toExternalForm());\n        HBox.setMargin(button, new Insets(0, 15, 5, 0));\n        button.setStyle("-fx-border-width: 0px;");\n        button.setStyle("-fx-border-color: transparent;");\n        button.setStyle("-fx-background-color: transparent;");\n        rootGroup.getChildren().addAll(dbImage, vBoxRect, vBoxLabel, hBoxButton);\n        dialogStage.show();\n\n        button.setOnMouseClicked((event) -> dialogStage.close());\n\n        rootGroup.setOnMousePressed((me) -> {\n                initX = me.getScreenX() - dialogStage.getX();\n                initY = me.getScreenY() - dialogStage.getY();\n        });\n        rootGroup.setOnMouseDragged((me) -> {\n            dialogStage.setX(me.getScreenX() - initX);\n            dialogStage.setY(me.getScreenY() - initY);\n        });\n    }\n\n    public void playFailState(String message, boolean showButton) {\n        rect.setFill(Color.ORANGERED);\n        rotateTransition.stop();\n        dbImage.setImage(new Image("icons/SSH_tunnel_disconnected.png"));\n        rotateTransition.setDuration(Duration.seconds(3));\n        rotateTransition.play();\n        text.setText(message);\n        if (showButton) {\n            showCloseButton();\n        }\n        if (!dialogStage.isShowing()) {\n            dialogStage.show();\n        }\n    }\n\n    private void showCloseButton() {\n        button.getStyleClass().add("btn");\n        button.getStyleClass().add("btn-default");\n        button.setStyle("-fx-border-width: 1px;");\n        button.setStyle("-fx-background-color: #fff;");\n        button.setText("\xe6\x88\x91\xe7\x9f\xa5\xe9\x81\x93\xe4\xba\x86");\n    }\n\n    public void playSuccessState(String message, boolean showButton) {\n        rect.setFill(DARKSEAGREEN);\n        rotateTransition.stop();\n        dbImage.setImage(new Image("icons/SSH_tunnel.png"));\n        rotateTransition.setDuration(Duration.seconds(0.8));\n        rotateTransition.play();\n        text.setText(message);\n        if (showButton) {\n            showCloseButton();\n        }\n    }\n\n    public void close() {\n        dialogStage.close();\n    }\n}\n'