b'// UVa1637 Double Patience\n// Rujia Liu\n#include<cstdio>\n#include<vector>\n#include<map>\nusing namespace std;\n\nmap<vector<int>, double> d;\nchar card[9][4][3];\n\n// cnt is a vector of length 9, cnt[i] is the number of remaining cards in pile i.\n// c is the sum of cnt. It is here to save time and code length :)\ndouble dp(vector<int>& cnt, int c) {\n  if(c == 0) return 1;\n  if(d.count(cnt) != 0) return d[cnt];\n  double sum = 0;\n  int tot = 0;\n  for(int i = 0; i < 9; i++) if(cnt[i] > 0)\n    for(int j = i+1; j < 9; j++) if(cnt[j] > 0)\n      if(card[i][cnt[i]-1][0] == card[j][cnt[j]-1][0]) {\n        tot++;\n        cnt[i]--; cnt[j]--;\n        sum += dp(cnt, c-2);\n        cnt[i]++; cnt[j]++;\n      }\n  if(tot == 0) return d[cnt] = 0;\n  else return d[cnt] = sum / tot;\n}\n\nbool read_input() {\n  for(int i = 0; i < 9; i++)\n    for(int j = 0; j < 4; j++)\n      if(scanf("%s", card[i][j]) != 1) return false;\n  return true;\n}\n\nint main() {\n  while(read_input()) {\n    vector<int> cnt(9,4);\n    d.clear();\n    printf("%.6lf\\n", dp(cnt, 36));\n  }\n  return 0;\n}\n'