b'package com.naman14.timber.dialogs;\n\nimport android.app.Dialog;\nimport android.os.Bundle;\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.DialogFragment;\nimport android.widget.Toast;\n\nimport com.afollestad.materialdialogs.MaterialDialog;\nimport com.naman14.timber.MusicPlayer;\nimport com.naman14.timber.fragments.PlaylistFragment;\nimport com.naman14.timber.models.Song;\n\n/**\n * Created by naman on 20/12/15.\n */\npublic class CreatePlaylistDialog extends DialogFragment {\n\n    public static CreatePlaylistDialog newInstance() {\n        return newInstance((Song) null);\n    }\n\n    public static CreatePlaylistDialog newInstance(Song song) {\n        long[] songs;\n        if (song == null) {\n            songs = new long[0];\n        } else {\n            songs = new long[1];\n            songs[0] = song.id;\n        }\n        return newInstance(songs);\n    }\n\n    public static CreatePlaylistDialog newInstance(long[] songList) {\n        CreatePlaylistDialog dialog = new CreatePlaylistDialog();\n        Bundle bundle = new Bundle();\n        bundle.putLongArray("songs", songList);\n        dialog.setArguments(bundle);\n        return dialog;\n    }\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        return new MaterialDialog.Builder(getActivity()).positiveText("Create").negativeText("Cancel").input("Enter playlist name", "", false, new MaterialDialog.InputCallback() {\n            @Override\n            public void onInput(@NonNull MaterialDialog dialog, CharSequence input) {\n\n                long[] songs = getArguments().getLongArray("songs");\n                long playistId = MusicPlayer.createPlaylist(getActivity(), input.toString());\n\n                if (playistId != -1) {\n                    if (songs != null && songs.length != 0)\n                        MusicPlayer.addToPlaylist(getActivity(), songs, playistId);\n                    else\n                        Toast.makeText(getActivity(), "Created playlist", Toast.LENGTH_SHORT).show();\n                    if (getParentFragment() instanceof PlaylistFragment) {\n                        ((PlaylistFragment) getParentFragment()).updatePlaylists(playistId);\n                    }\n                } else {\n                    Toast.makeText(getActivity(), "Unable to create playlist", Toast.LENGTH_SHORT).show();\n                }\n\n            }\n        }).build();\n    }\n}\n'