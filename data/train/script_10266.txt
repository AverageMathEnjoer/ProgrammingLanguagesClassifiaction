b'package com.bennyhuo.kotlin.update16.typeinferring\n\n/**\n * Created by benny.\n */\nabstract class AbsBuilder<B : AbsBuilder<B>> {\n    val self: B = this as B\n\n    private var id: Int? = null\n\n    fun setId(id: Int): B {\n        this.id = id\n        return self\n    }\n}\n\nopen class MyBuilder1<B: MyBuilder1<B>> : AbsBuilder<B>() {\n\n    private var name: String? = null\n\n    fun setName(name: String): B {\n        this.name = name\n        return self\n    }\n}\n\nclass MyBuilder2 : MyBuilder1<MyBuilder2>() {\n    private var age: Int? = null\n\n    fun setAge(age: Int): MyBuilder2 {\n        this.age = age\n        return this\n    }\n}\n\nfun main() {\n    MyBuilder1().setId(1).setName("Hello") // error < 1.6 \n    \n    MyBuilder2().setId(2).setAge(10)\n}'