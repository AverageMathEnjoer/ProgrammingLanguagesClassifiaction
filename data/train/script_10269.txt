b'package icu.nullptr.twifucker.hook.activity\n\nimport android.app.Activity\nimport com.github.kyuubiran.ezxhelper.AndroidLogger\nimport com.github.kyuubiran.ezxhelper.ClassUtils.loadClass\nimport com.github.kyuubiran.ezxhelper.HookFactory.`-Static`.createHook\nimport com.github.kyuubiran.ezxhelper.Log\nimport com.github.kyuubiran.ezxhelper.finders.MethodFinder\nimport de.robv.android.xposed.XC_MethodHook.Unhook\nimport icu.nullptr.twifucker.BuildConfig\nimport icu.nullptr.twifucker.afterMeasure\nimport icu.nullptr.twifucker.hook.BaseHook\nimport icu.nullptr.twifucker.modulePrefs\nimport icu.nullptr.twifucker.ui.SettingsDialog\n\nobject MainActivityHook : BaseHook() {\n    override val name: String\n        get() = "MainActivityHook"\n\n    private lateinit var theHook: Unhook\n\n    override fun init() {\n        theHook = MethodFinder.fromClass(loadClass("com.twitter.app.main.MainActivity"))\n            .findSuper { false }.filterByName("onResume").first().createHook {\n                afterMeasure(name) { param ->\n                    Log.d("MainActivity onResume")\n                    if (BuildConfig.DEBUG || modulePrefs.getBoolean("first_run", true)) {\n                        SettingsDialog(param.thisObject as Activity)\n                        modulePrefs.putBoolean("first_run", false)\n                    }\n                    if (modulePrefs.getBoolean("show_toast", true)) {\n                        AndroidLogger.toast("TwiFucker version ${BuildConfig.VERSION_NAME}")\n                    }\n                    theHook.unhook()\n                }\n            }\n    }\n}\n'