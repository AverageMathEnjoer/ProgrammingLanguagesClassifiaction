b'// UVa524 Prime Ring Problem\n// Rujia Liu\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint is_prime(int x) {\n  for(int i = 2; i*i <= x; i++)\n    if(x % i == 0) return 0;\n  return 1;\n}\n\nint n, A[50], isp[50], vis[50];\nvoid dfs(int cur) {\n  if(cur == n && isp[A[0]+A[n-1]]) {\n    for(int i = 0; i < n; i++) {\n      if(i != 0) printf(" ");\n      printf("%d", A[i]);\n    }\n    printf("\\n");\n  }\n  else for(int i = 2; i <= n; i++)\n    if(!vis[i] && isp[i+A[cur-1]]) {\n      A[cur] = i;\n      vis[i] = 1;\n      dfs(cur+1);\n      vis[i] = 0;\n    }\n}\n\nint main() {\n  int kase = 0;\n  while(scanf("%d", &n) == 1 && n > 0) {\n    if(kase > 0) printf("\\n");\n    printf("Case %d:\\n", ++kase);\n    for(int i = 2; i <= n*2; i++) isp[i] = is_prime(i);\n    memset(vis, 0, sizeof(vis));\n    A[0] = 1;\n    dfs(1);\n  }\n  return 0;\n}\n'