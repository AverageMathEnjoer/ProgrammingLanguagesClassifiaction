b'package com.quyunshuo.androidbaseframemvvm.base.mvvm.v\n\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.fragment.app.Fragment\nimport androidx.viewbinding.ViewBinding\nimport com.alibaba.android.arouter.launcher.ARouter\nimport com.quyunshuo.androidbaseframemvvm.base.mvvm.vm.BaseViewModel\nimport com.quyunshuo.androidbaseframemvvm.base.utils.BindingReflex\nimport com.quyunshuo.androidbaseframemvvm.base.utils.RegisterEventBus\nimport com.quyunshuo.androidbaseframemvvm.base.utils.EventBusUtils\n\n/**\n * Fragment\xe5\x9f\xba\xe7\xb1\xbb\n *\n * @author Qu Yunshuo\n * @since 8/27/20\n */\nabstract class BaseFrameFragment<VB : ViewBinding, VM : BaseViewModel> : Fragment(),\n    FrameView<VB> {\n\n    /**\n     * \xe7\xa7\x81\xe6\x9c\x89\xe7\x9a\x84 ViewBinding \xe6\xad\xa4\xe5\x86\x99\xe6\xb3\x95\xe6\x9d\xa5\xe8\x87\xaa Google Android \xe5\xae\x98\xe6\x96\xb9\n     */\n    private var _binding: VB? = null\n\n    protected val mBinding get() = _binding!!\n\n    protected abstract val mViewModel: VM\n\n    /**\n     * \xe6\x98\xaf\xe5\x90\xa6\xe6\x9c\x89 [RegisterEventBus] \xe6\xb3\xa8\xe8\xa7\xa3\xef\xbc\x8c\xe9\x81\xbf\xe5\x85\x8d\xe9\x87\x8d\xe5\xa4\x8d\xe8\xb0\x83\xe7\x94\xa8 [Class.isAnnotation]\n     */\n    private var mHaveRegisterEventBus = false\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        _binding = BindingReflex.reflexViewBinding(javaClass, layoutInflater)\n        return _binding?.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        // ARouter \xe4\xbe\x9d\xe8\xb5\x96\xe6\xb3\xa8\xe5\x85\xa5\n        ARouter.getInstance().inject(this)\n\n        // \xe6\xa0\xb9\xe6\x8d\xae\xe5\xad\x90\xe7\xb1\xbb\xe6\x98\xaf\xe5\x90\xa6\xe6\x9c\x89 RegisterEventBus \xe6\xb3\xa8\xe8\xa7\xa3\xe6\xb1\xba\xe5\xae\x9a\xe6\x98\xaf\xe5\x90\xa6\xe8\xbf\x9b\xe8\xa1\x8c\xe6\xb3\xa8\xe5\x86\x8c EventBus\n        if (javaClass.isAnnotationPresent(RegisterEventBus::class.java)) {\n            mHaveRegisterEventBus = true\n            EventBusUtils.register(this)\n        }\n        _binding?.initView()\n        initObserve()\n        initRequestData()\n    }\n\n    override fun onDestroyView() {\n        super.onDestroyView()\n        _binding = null\n    }\n\n    override fun onDestroy() {\n        // \xe6\xa0\xb9\xe6\x8d\xae\xe5\xad\x90\xe7\xb1\xbb\xe6\x98\xaf\xe5\x90\xa6\xe6\x9c\x89 RegisterEventBus \xe6\xb3\xa8\xe8\xa7\xa3\xe5\x86\xb3\xe5\xae\x9a\xe6\x98\xaf\xe5\x90\xa6\xe8\xbf\x9b\xe8\xa1\x8c\xe6\xb3\xa8\xe5\x86\x8c EventBus\n        if (mHaveRegisterEventBus) {\n            EventBusUtils.unRegister(this)\n        }\n        super.onDestroy()\n    }\n}'