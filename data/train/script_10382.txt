b'module Main (main) where\n\nimport qualified Cachix.Client as CC\nimport Cachix.Client.Exception (CachixException)\nimport Control.Exception.Safe (displayException, handle)\nimport GHC.IO.Encoding\nimport System.Exit (exitFailure)\nimport System.IO\n\nmain :: IO ()\nmain = do\n  setLocaleEncoding utf8\n  hSetBuffering stdout LineBuffering\n  hSetBuffering stderr LineBuffering\n  handleExceptions CC.main\n\nhandleExceptions :: IO a -> IO a\nhandleExceptions = handle handler\n  where\n    handler :: CachixException -> IO a\n    handler e = do\n      hPutStrLn stderr ""\n      hPutStr stderr (displayException e)\n      hFlush stderr\n      exitFailure\n'