b'\xef\xbb\xbfusing BaiduPanDownload.Data;\nusing BaiduPanDownload.HttpTool;\nusing Newtonsoft.Json;\nusing Newtonsoft.Json.Linq;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace BaiduPanDownload.Util\n{\n    /// <summary>\n    /// \xe7\xbd\x91\xe7\x9b\x98API\xe4\xbe\xbf\xe5\x88\xa9\xe6\x93\x8d\xe4\xbd\x9c\xe7\xb1\xbb\n    /// </summary>\n    class DiskAPI\n    {\n        /// <summary>\n        /// \xe8\x8e\xb7\xe5\x8f\x96\xe7\x94\xa8\xe6\x88\xb7\xe5\x90\x8d\n        /// </summary>\n        /// <param name="Token">\xe8\xb4\xa6\xe6\x88\xb7Token</param>\n        /// <returns></returns>\n        public static string GetName(string Token)\n        {\n            var ret = WebTool.GetHtml($"https://openapi.baidu.com/rest/2.0/passport/users/getLoggedInUser?access_token={Token}");\n            if (ret.Contains("ERROR"))\n            {\n                return ret;\n            }\n            JObject json = JObject.Parse(ret);\n            return (string)json["uname"];\n        }\n\n        /// <summary>\n        /// \xe8\x8e\xb7\xe5\x8f\x96\xe7\xa9\xba\xe9\x97\xb4\xe4\xbf\xa1\xe6\x81\xaf\n        /// </summary>\n        /// <param name="Token">\xe8\xb4\xa6\xe6\x88\xb7Token</param>\n        /// <returns></returns>\n        public static SpaceInfo GetSpace(string Token)\n        {\n            var ret = WebTool.GetHtml($"https://pcs.baidu.com/rest/2.0/pcs/quota?method=info&access_token={Token}");\n            if (ret.Contains("ERROR"))\n            {\n                return null;\n            }\n            return JsonConvert.DeserializeObject<SpaceInfo>(WebTool.GetHtml($"https://pcs.baidu.com/rest/2.0/pcs/quota?method=info&access_token={Token}"));\n        }\n\n        /// <summary>  \n        /// \xe8\x8e\xb7\xe5\x8f\x96\xe6\x97\xb6\xe9\x97\xb4\xe6\x88\xb3  \n        /// </summary>  \n        /// <returns></returns>  \n        public static long GetTimeStamp()\n        {\n            TimeSpan ts = DateTime.UtcNow - new DateTime(1970, 1, 1, 0, 0, 0, 0);\n            return Convert.ToInt64(ts.TotalSeconds);\n        }\n\n    }\n}\n'