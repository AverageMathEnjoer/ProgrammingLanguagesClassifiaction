b'module Cachix.API.Error\n  ( escalate,\n    escalateAs,\n  )\nwhere\n\nimport Control.Monad.Catch (MonadThrow (throwM))\nimport Protolude\n\n-- | Examples:\n--    > escalate . maybeToEither err404\n--\n--  | Note that exceptions gets handled by warp and logged (user sees just "Internal server")\nescalateAs ::\n  (Exception exc, MonadThrow m) =>\n  (l -> exc) ->\n  Either l a ->\n  m a\nescalateAs f = either (throwM . f) pure\n\nescalate ::\n  (Exception exc, MonadThrow m) =>\n  Either exc a ->\n  m a\nescalate = escalateAs identity\n'