b'package wendu.jsbdemo;\n\nimport android.os.CountDownTimer;\nimport android.webkit.JavascriptInterface;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport wendu.dsbridge.CompletionHandler;\n\n/**\n * Created by du on 16/12/31.\n */\n\npublic class JsApi{\n    @JavascriptInterface\n    public String testSyn(Object msg)  {\n        return msg + "\xef\xbc\xbbsyn call\xef\xbc\xbd";\n    }\n\n    @JavascriptInterface\n    public void testAsyn(Object msg, CompletionHandler<String> handler){\n        handler.complete(msg+" [ asyn call]");\n    }\n\n    @JavascriptInterface\n    public String testNoArgSyn(Object arg) throws JSONException {\n        return  "testNoArgSyn called [ syn call]";\n    }\n\n    @JavascriptInterface\n    public void testNoArgAsyn(Object arg,CompletionHandler<String> handler) {\n        handler.complete( "testNoArgAsyn   called [ asyn call]");\n    }\n\n\n    //@JavascriptInterface\n    //without @JavascriptInterface annotation can\'t be called\n    public String testNever(Object arg) throws JSONException {\n        JSONObject jsonObject= (JSONObject) arg;\n        return jsonObject.getString("msg") + "[ never call]";\n    }\n\n    @JavascriptInterface\n    public void callProgress(Object args, final CompletionHandler<Integer> handler) {\n\n        new CountDownTimer(11000, 1000) {\n            int i=10;\n            @Override\n            public void onTick(long millisUntilFinished) {\n                //setProgressData can be called many times util complete be called.\n                handler.setProgressData((i--));\n\n            }\n            @Override\n            public void onFinish() {\n                //complete the js invocation with data; handler will be invalid when complete is called\n                handler.complete(0);\n\n            }\n        }.start();\n    }\n}'