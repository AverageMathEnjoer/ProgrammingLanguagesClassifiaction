b'package com.rd.animation.type;\n\nimport android.animation.IntEvaluator;\nimport android.animation.PropertyValuesHolder;\nimport android.animation.ValueAnimator;\nimport androidx.annotation.NonNull;\nimport android.view.animation.AccelerateDecelerateInterpolator;\nimport com.rd.animation.controller.ValueController;\nimport com.rd.animation.data.type.SwapAnimationValue;\n\npublic class SwapAnimation extends BaseAnimation<ValueAnimator> {\n\n    private static final String ANIMATION_COORDINATE = "ANIMATION_COORDINATE";\n    private static final String ANIMATION_COORDINATE_REVERSE = "ANIMATION_COORDINATE_REVERSE";\n    private static final int COORDINATE_NONE = -1;\n\n    private int coordinateStart = COORDINATE_NONE;\n    private int coordinateEnd = COORDINATE_NONE;\n\n    private SwapAnimationValue value;\n\n    public SwapAnimation(@NonNull ValueController.UpdateListener listener) {\n        super(listener);\n        value = new SwapAnimationValue();\n    }\n\n    @NonNull\n    @Override\n    public ValueAnimator createAnimator() {\n        ValueAnimator animator = new ValueAnimator();\n        animator.setDuration(BaseAnimation.DEFAULT_ANIMATION_TIME);\n        animator.setInterpolator(new AccelerateDecelerateInterpolator());\n        animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n            @Override\n            public void onAnimationUpdate(ValueAnimator animation) {\n                onAnimateUpdated(animation);\n            }\n        });\n\n        return animator;\n    }\n\n    @Override\n    public SwapAnimation progress(float progress) {\n        if (animator != null) {\n            long playTime = (long) (progress * animationDuration);\n\n            if (animator.getValues() != null && animator.getValues().length > 0) {\n                animator.setCurrentPlayTime(playTime);\n            }\n        }\n\n        return this;\n    }\n\n    @NonNull\n    public SwapAnimation with(int coordinateStart, int coordinateEnd) {\n        if (animator != null && hasChanges(coordinateStart, coordinateEnd)) {\n            this.coordinateStart = coordinateStart;\n            this.coordinateEnd = coordinateEnd;\n\n            PropertyValuesHolder holder = createColorPropertyHolder(ANIMATION_COORDINATE, coordinateStart, coordinateEnd);\n            PropertyValuesHolder holderReverse = createColorPropertyHolder(ANIMATION_COORDINATE_REVERSE, coordinateEnd, coordinateStart);\n            animator.setValues(holder, holderReverse);\n        }\n\n        return this;\n    }\n\n    private PropertyValuesHolder createColorPropertyHolder(String propertyName, int startValue, int endValue) {\n        PropertyValuesHolder holder = PropertyValuesHolder.ofInt(propertyName, startValue, endValue);\n        holder.setEvaluator(new IntEvaluator());\n\n        return holder;\n    }\n\n    private void onAnimateUpdated(@NonNull ValueAnimator animation) {\n        int coordinate = (int) animation.getAnimatedValue(ANIMATION_COORDINATE);\n        int coordinateReverse = (int) animation.getAnimatedValue(ANIMATION_COORDINATE_REVERSE);\n\n        value.setCoordinate(coordinate);\n        value.setCoordinateReverse(coordinateReverse);\n\n        if (listener != null) {\n            listener.onValueUpdated(value);\n        }\n    }\n\n    @SuppressWarnings("RedundantIfStatement")\n    private boolean hasChanges(int coordinateStart, int coordinateEnd) {\n        if (this.coordinateStart != coordinateStart) {\n            return true;\n        }\n\n        if (this.coordinateEnd != coordinateEnd) {\n            return true;\n        }\n\n        return false;\n    }\n}\n'