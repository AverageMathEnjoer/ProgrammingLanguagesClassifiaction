b'package com.codeest.geeknews.presenter.zhihu;\n\nimport com.codeest.geeknews.base.RxPresenter;\nimport com.codeest.geeknews.model.DataManager;\nimport com.codeest.geeknews.model.bean.CommentBean;\nimport com.codeest.geeknews.base.contract.zhihu.CommentContract;\nimport com.codeest.geeknews.util.RxUtil;\nimport com.codeest.geeknews.widget.CommonSubscriber;\n\nimport javax.inject.Inject;\n\n/**\n * Created by codeest on 16/8/18.\n */\n\npublic class CommentPresenter extends RxPresenter<CommentContract.View> implements CommentContract.Presenter{\n\n    public static final int SHORT_COMMENT = 0;\n\n    public static final int LONG_COMMENT = 1;\n\n    private DataManager mDataManager;\n\n    @Inject\n    public CommentPresenter(DataManager mDataManager) {\n        this.mDataManager = mDataManager;\n    }\n\n    @Override\n    public void getCommentData(int id, int commentKind) {\n        if(commentKind == SHORT_COMMENT) {\n            addSubscribe(mDataManager.fetchShortCommentInfo(id)\n                .compose(RxUtil.<CommentBean>rxSchedulerHelper())\n                .subscribeWith(new CommonSubscriber<CommentBean>(mView) {\n                    @Override\n                    public void onNext(CommentBean commentBean) {\n                        mView.stateMain();\n                        mView.showContent(commentBean);\n                    }\n                })\n            );\n        } else {\n            addSubscribe(mDataManager.fetchLongCommentInfo(id)\n                .compose(RxUtil.<CommentBean>rxSchedulerHelper())\n                .subscribeWith(new CommonSubscriber<CommentBean>(mView) {\n                    @Override\n                    public void onNext(CommentBean commentBean) {\n                        mView.stateMain();\n                        mView.showContent(commentBean);\n                    }\n                })\n            );\n        }\n    }\n}\n'