b'package lyons.dao;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.apache.ibatis.session.SqlSession;\n\nimport lyons.db.DbAccess;\nimport lyons.user.entity.User;\n\n/**\n * vip\xd3\xc3\xbb\xa7\xce\xac\xbb\xa4\xc0\xe0\n * \n * orderForm.sql\n */\npublic class UserDaoImp implements UserDao\n{\n    \n    static SqlSession sqlSession;\n    static DbAccess dbAccess = new DbAccess();\n    \n    /**\n     * \n     * \xb8\xf9\xbe\xdd\xd3\xc3\xbb\xa7\xc3\xfb\xb2\xe9\xd1\xaf\xd3\xc3\xbb\xa7\xd0\xc5\xcf\xa2\n     * @param map\n     * @return\n     */\n    @Override\n    public List<User> queryByuserNamepassWord(Map<String, Object> map)\n    {\n        try\n        {\n            sqlSession = dbAccess.getSqlSession();\n            return sqlSession.getMapper(UserDao.class).queryByuserNamepassWord(map);\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n        finally\n        {\n            sqlSesionClose();\n        }\n        \n       return new ArrayList<User>();\n    }\n    \n    \n\n    /**\n     * \n     * \xd3\xc3\xbb\xa7\xca\xc7\xb7\xf1\xb4\xe6\xd4\xda\n     * @param username\n     */\n    public List<User> queryByuserName(String username)\n    {\n        try\n        {\n            sqlSession = dbAccess.getSqlSession();\n            return sqlSession.getMapper(UserDao.class).queryByuserName(username);\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n        finally\n        {\n            sqlSesionClose();\n        }\n        \n       return new ArrayList<User>();\n        \n    }\n    \n    \n    /**\n     * \n     * \xd0\xc2\xd3\xc3\xbb\xa7\xd7\xa2\xb2\xe1\n     * @param object \n     * @return\n     */\n    public void insertUser(Map<String, String> registerMap)\n    {\n        try\n        {\n            sqlSession = dbAccess.getSqlSession();\n            sqlSession.getMapper(UserDao.class).insertUser(registerMap);\n            sqlSession.commit();\n        }\n        catch (IOException e)\n        {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        finally\n        {\n            sqlSesionClose();\n        }\n        \n    }\n    \n    \n    /*\n     * \xb9\xd8\xb1\xd5\xca\xfd\xbe\xdd\xbf\xe2\xc1\xac\xbd\xd3\xbb\xe1\xbb\xb0\n     */\n    private static void sqlSesionClose()\n    {\n        if (sqlSession != null)\n        {\n            sqlSession.close();\n        }\n    }\n\n    \n}\n'