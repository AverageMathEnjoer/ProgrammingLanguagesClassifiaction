b'/*\n * Copyright (C) 2015 Naman Dwivedi\n *\n * Licensed under the GNU General Public License v3\n *\n * This is free software: you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n */\n\npackage com.naman14.timber.utils;\n\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageInfo;\nimport android.content.pm.PackageManager;\nimport android.graphics.Paint;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport androidx.fragment.app.DialogFragment;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.text.Html;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport com.afollestad.materialdialogs.MaterialDialog;\nimport com.naman14.timber.R;\n\npublic class Helpers {\n\n    public static void showAbout(AppCompatActivity activity) {\n        FragmentManager fm = activity.getSupportFragmentManager();\n        FragmentTransaction ft = fm.beginTransaction();\n        Fragment prev = fm.findFragmentByTag("dialog_about");\n        if (prev != null) {\n            ft.remove(prev);\n        }\n        ft.addToBackStack(null);\n\n        new AboutDialog().show(ft, "dialog_about");\n    }\n\n    public static String getATEKey(Context context) {\n        return PreferenceManager.getDefaultSharedPreferences(context).getBoolean("dark_theme", false) ?\n                "dark_theme" : "light_theme";\n    }\n\n    public static class AboutDialog extends DialogFragment {\n\n        public AboutDialog() {\n        }\n\n        @Override\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\n\n            String appName = "Timber";\n            try {\n                PackageInfo pInfo = getActivity().getPackageManager().getPackageInfo(getActivity().getPackageName(), 0);\n                String version = pInfo.versionName;\n                int versionCode = pInfo.versionCode;\n                appName = "Timber " + version;\n            } catch (PackageManager.NameNotFoundException e) {\n                e.printStackTrace();\n            }\n\n            return new MaterialDialog.Builder(getActivity())\n                    .title(appName)\n                    .content(Html.fromHtml(getString(R.string.about_dialog_body)))\n                    .positiveText("Dismiss")\n                    .build();\n        }\n\n    }\n\n}\n'