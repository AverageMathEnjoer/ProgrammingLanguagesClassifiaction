b'context("track_copy")\n\ntest_that("deletes are not copies", {\n  a <- 1:5\n  tracker <- track_copy(a, quiet = TRUE)\n\n  expect_false(tracker())\n  rm(a)\n  expect_false(tracker())\n})\n\ntest_that("modifying type triggers copy", {\n  a <- 1:5\n  tracker <- track_copy(a, quiet = TRUE)\n\n  expect_false(tracker())\n  a[3] <- 2.5\n  expect_true(tracker())\n})\n\ntest_that("modifying element in vector does not trigger copy", {\n  a <- c(1L, 2L, 5L, 4L, 3L)\n  tracker <- track_copy(a, quiet = TRUE)\n\n  expect_false(tracker())\n  a[3] <- 3L\n  expect_false(tracker())\n})\n'