b'package com.naman14.timber.widgets.desktop;\n\nimport android.appwidget.AppWidgetManager;\nimport android.appwidget.AppWidgetProvider;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport androidx.annotation.LayoutRes;\nimport android.widget.RemoteViews;\n\nimport com.naman14.timber.MusicService;\n\n/**\n * Created by nv95 on 02.11.16.\n */\n\npublic abstract class BaseWidget extends AppWidgetProvider {\n\n    protected static final int REQUEST_NEXT = 1;\n    protected static final int REQUEST_PREV = 2;\n    protected static final int REQUEST_PLAYPAUSE = 3;\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        onUpdate(context, appWidgetManager, appWidgetIds, null);\n    }\n\n    private void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds,Bundle extras){\n        ComponentName serviceName = new ComponentName(context, MusicService.class);\n        RemoteViews remoteViews = new RemoteViews(context.getPackageName(), getLayoutRes());\n        try {\n            onViewsUpdate(context, remoteViews, serviceName, extras);\n            appWidgetManager.updateAppWidget(appWidgetIds, remoteViews);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        if (action != null && action.startsWith("com.naman14.timber.")) {\n            AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);\n            ComponentName thisAppWidget = new ComponentName(context.getPackageName(), this.getClass().getName());\n            int[] appWidgetIds = appWidgetManager.getAppWidgetIds(thisAppWidget);\n            onUpdate(context, appWidgetManager, appWidgetIds, intent.getExtras());\n        } else {\n            super.onReceive(context, intent);\n        }\n    }\n\n    abstract void onViewsUpdate(Context context, RemoteViews remoteViews, ComponentName serviceName, Bundle extras);\n\n    abstract @LayoutRes int getLayoutRes();\n}\n'