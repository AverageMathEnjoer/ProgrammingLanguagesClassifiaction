b'\xef\xbb\xbf// UVa1025 A Spy in the Metro\n// Rujia Liu\n#include<iostream>\n#include<cstring>\nusing namespace std;\n\nconst int maxn = 50 + 5;\nconst int maxt = 200 + 5;\nconst int INF = 1000000000;\n\n// has_train[t][i][0]\xe8\xa1\xa8\xe7\xa4\xba\xe6\x97\xb6\xe5\x88\xbbt\xef\xbc\x8c\xe5\x9c\xa8\xe8\xbd\xa6\xe7\xab\x99i\xe6\x98\xaf\xe5\x90\xa6\xe6\x9c\x89\xe5\xbe\x80\xe5\x8f\xb3\xe5\xbc\x80\xe7\x9a\x84\xe7\x81\xab\xe8\xbd\xa6\nint t[maxn], has_train[maxt][maxn][2];\nint dp[maxt][maxn];\n\nint main() {\n  int kase = 0, n, T;\n  while(cin >> n >> T && n) {\n    int M1, M2, d;\n    for(int i = 1; i <= n-1; i++) cin >> t[i];\n\n    // \xe9\xa2\x84\xe5\xa4\x84\xe7\x90\x86\xef\xbc\x8c\xe8\xae\xa1\xe7\xae\x97has_train\xe6\x95\xb0\xe7\xbb\x84\n    memset(has_train, 0, sizeof(has_train));\n    cin >> M1;\n    while(M1--) {\n      cin >> d;\n      for(int j = 1; j <= n-1; j++) {\n        if(d <= T) has_train[d][j][0] = 1;\n        d += t[j];\n      }\n    }\n    cin >> M2;\n    while(M2--) {\n      cin >> d;\n      for(int j = n-1; j >= 1; j--) {\n        if(d <= T) has_train[d][j+1][1] = 1;\n        d += t[j];\n      }\n    }\n\n    // DP\xe4\xb8\xbb\xe8\xbf\x87\xe7\xa8\x8b\n    for(int i = 1; i <= n-1; i++) dp[T][i] = INF;\n    dp[T][n] = 0;\n\n    for(int i = T-1; i >= 0; i--)\n      for(int j = 1; j <= n; j++) {\n        dp[i][j] = dp[i+1][j] + 1; // \xe7\xad\x89\xe5\xbe\x85\xe4\xb8\x80\xe4\xb8\xaa\xe5\x8d\x95\xe4\xbd\x8d\n        if(j < n && has_train[i][j][0] && i+t[j] <= T)\n          dp[i][j] = min(dp[i][j], dp[i+t[j]][j+1]); // \xe5\x8f\xb3\n        if(j > 1 && has_train[i][j][1] && i+t[j-1] <= T)\n          dp[i][j] = min(dp[i][j], dp[i+t[j-1]][j-1]); // \xe5\xb7\xa6\n      }\n\n    // \xe8\xbe\x93\xe5\x87\xba\n    cout << "Case Number " << ++kase << ": ";\n    if(dp[0][1] >= INF) cout << "impossible\\n";\n    else cout << dp[0][1] << "\\n";\n  }\n  return 0;\n}\n'