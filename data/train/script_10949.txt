b'package com.github.eprendre.sources_by_eprendre\n\nimport com.github.eprendre.tingshu.extensions.extractorAsyncExecute\nimport com.github.eprendre.tingshu.extensions.getMobileUA\nimport com.github.eprendre.tingshu.extensions.notifyLoadingEpisodes\nimport com.github.eprendre.tingshu.extensions.showToast\nimport com.github.eprendre.tingshu.sources.*\nimport com.github.eprendre.tingshu.utils.*\nimport com.github.kittinunf.fuel.Fuel\nimport com.github.kittinunf.fuel.json.responseJson\nimport org.json.JSONArray\nimport java.lang.Exception\nimport java.net.URLEncoder\nimport kotlin.math.ceil\nimport kotlin.random.Random\n\nobject LanRenTingShu : TingShu(), ILogin {\n    private val bookIdMap = HashMap<Int, List<Long>>()\n    override fun getSourceId(): String {\n        return "4a3ed84e5cf841609ed4d7f790fc7fbf"\n    }\n\n    override fun getUrl(): String {\n        return "https://m.lrts.me"\n    }\n\n    override fun getName(): String {\n        return "\xe6\x87\x92\xe4\xba\xba\xe5\x90\xac\xe4\xb9\xa6"\n    }\n\n    override fun getDesc(): String {\n        return "\xe6\x8e\xa8\xe8\x8d\x90\xe6\x8c\x87\xe6\x95\xb0:3\xe6\x98\x9f \xe2\xad\x90\xe2\xad\x90\xe2\xad\x90\\n\xe6\xad\xa3\xe7\x89\x88\xe6\xba\x90\xef\xbc\x81\xe5\x85\x8d\xe8\xb4\xb9\xe4\xb9\xa6\xe7\xb1\x8d\xe8\xbe\x83\xe5\xb0\x91\xe3\x80\x82\xe5\xb8\xa6[VIP]\xe5\x92\x8c[\xe7\xb2\xbe\xe5\x93\x81]\xe7\x9a\x84\xe6\x98\xaf\xe6\x94\xb6\xe8\xb4\xb9\xe4\xb9\xa6\xe7\xb1\x8d\xef\xbc\x8c\xe5\xa6\x82\xe9\x9c\x80\xe6\x94\xb6\xe5\x90\xac\xe8\xbf\x99\xe7\xb1\xbb\xe4\xb9\xa6\xe7\xb1\x8d\xef\xbc\x8c\xe8\xaf\xb7\xe5\xa4\xa7\xe5\xae\xb6\xe5\x9c\xa8\xe6\x92\xad\xe6\x94\xbe\xe9\xa1\xb5\xe5\x8f\xb3\xe4\xb8\x8a\xe8\xa7\x92\xe7\x94\xa8\xe8\x87\xaa\xe5\xb7\xb1\xe7\x9a\x84VIP\xe6\x88\x96\xe8\x80\x85\xe8\xb4\xad\xe4\xb9\xb0\xe4\xba\x86\xe7\xb2\xbe\xe5\x93\x81\xe4\xb9\xa6\xe7\x9a\x84\xe6\x87\x92\xe4\xba\xba\xe5\x90\xac\xe4\xb9\xa6\xe8\xb4\xa6\xe5\x8f\xb7\xe7\x99\xbb\xe5\xbd\x95\xe5\x90\x8e\xe6\x89\x8d\xe8\x83\xbd\xe6\x92\xad\xe6\x94\xbe\xe3\x80\x82\xe6\xb3\xa8\xe6\x84\x8f\xef\xbc\x9a\xe6\xad\xa4\xe6\xba\x90\xe7\x99\xbb\xe5\xbd\x95\xe5\x90\x8e\xe6\x9c\x89\xe6\x95\x88\xe6\x9c\x9f\xe5\x8f\xaa\xe6\x9c\x89\xe5\xa4\xa7\xe7\xba\xa6\xe5\x8d\x8a\xe5\xa4\xa9\xe7\x9a\x84\xe6\x97\xb6\xe9\x97\xb4\xe3\x80\x82"\n    }\n\n    override fun isMultipleEpisodePages(): Boolean {\n        return true\n    }\n\n    override fun isWebViewNotRequired(): Boolean {\n        return false\n    }\n\n    override fun search(keywords: String, page: Int): Pair<List<Book>, Int> {\n        val encodedKeywords = URLEncoder.encode(keywords, "utf-8")\n        val url = "https://m.lrts.me/ajax/search?keyWord=${encodedKeywords}&pageSize=40&pageNum=${page}&searchOption=1"\n        val result = Fuel.get(url).header(mapOf("User-Agent" to getMobileUA())).responseJson()\n        val jsonObject = result.third.get().obj()\n\n        val list = ArrayList<Book>()\n        var totalPage = 1\n        try {\n            val bookResult = jsonObject.getJSONObject("data").getJSONObject("bookResult")\n            totalPage = ceil(bookResult.getInt("count").toDouble() / 40).toInt()\n            val l = bookResult.getJSONArray("list")\n            (0 until l.length()).forEach { index ->\n                val book = l.getJSONObject(index)\n                var coverUrl = book.getString("cover")\n                if (!coverUrl.contains("180")) {\n                    val coverName = coverUrl.substringBeforeLast(".")\n                    val coverExt = coverUrl.substringAfterLast(".")\n                    coverUrl = "${coverName}_180x254.${coverExt}"\n                }\n                val bookUrl = "https://m.lrts.me?" + book.getLong("id").toString()\n                var title = book.getString("name")\n                val author = book.getString("author")\n                val isFinished = book.getInt("state") == 2\n                val statusPrefix = if (isFinished) "\xe5\xae\x8c\xe6\x9c\xac|" else ""\n                val tracksCount = book.getInt("sections")\n                val status = "${statusPrefix}\xe5\x85\xb1${tracksCount}\xe7\xab\xa0"\n                val artist = book.getString("announcer")\n                val intro = if (book.isNull("recReason")) {\n                    book.optString("desc", "")\n                } else {\n                    book.getString("recReason")\n                }\n                val tags = book.getJSONArray("tags").toString()\n                if (tags.contains("VIP")) {\n                    title = "[VIP] $title"\n                } else if (tags.contains("\xe7\xb2\xbe\xe5\x93\x81")) {\n                    title = "[\xe7\xb2\xbe\xe5\x93\x81] $title"\n                }\n\n                list.add(Book(coverUrl, bookUrl, title, author, artist).apply {\n                    this.intro = intro\n                    this.status = status\n                    this.sourceId = getSourceId()\n                    this.isCompleted = isFinished\n                })\n            }\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n        return Pair(list, totalPage)\n    }\n\n    private val pageList = ArrayList<Int>()\n\n    override fun reset() {\n        pageList.clear()\n    }\n\n    override fun getBookDetailInfo(bookUrl: String, loadEpisodes: Boolean, loadFullPages: Boolean): BookDetail {\n        val bookId = bookUrl.split("?")[1]\n        val pageSize = 200\n        val list = ArrayList<Episode>()\n        pageList.clear()\n        if (loadEpisodes) {\n            val url = "https://m.lrts.me/ajax/getBookMenu?bookId=${bookId}&pageNum=1&pageSize=${pageSize}&sortType=0"\n\n            val result = Fuel.get(url).header("User-Agent" to getMobileUA()).responseJson()\n            val obj = result.third.get().obj()\n            val trackTotalCount = obj.getInt("sections")\n            val pageCount = ceil(trackTotalCount.toDouble() / pageSize).toInt()\n\n            list.addAll(getEpisodes(obj.getJSONArray("list"), bookId, 0))\n\n            if (loadFullPages) {\n                pageList.addAll(2..pageCount)\n                while (pageList.size > 0) {\n                    val page = pageList.removeAt(0)\n                    notifyLoadingEpisodes("$page / $pageCount")\n                    val nextUrl = "https://m.lrts.me/ajax/getBookMenu?bookId=${bookId}&pageNum=${page}&pageSize=${pageSize}&sortType=0"\n                    val tracksArray = Fuel.get(nextUrl).header("User-Agent" to getMobileUA())\n                        .responseJson().third.get().obj().getJSONArray("list")\n                    list.addAll(getEpisodes(tracksArray, bookId, list.size))\n                    Thread.sleep(Random.nextLong(100, 500))\n                }\n                notifyLoadingEpisodes(null)\n            }\n        }\n        val url = "https://m.lrts.me/ajax/getBookInfo?id=$bookId"\n        val result = Fuel.get(url).header(mapOf("User-Agent" to getMobileUA())).responseJson().third.get().obj()\n        val extraInfo = result.getJSONArray("extraInfos")\n        var intro = ""\n        if (extraInfo.length() > 0) {\n            intro = extraInfo.getJSONObject(0).getString("content")\n        }\n        val episodesCount = result.optInt("sections")\n        return BookDetail(list, intro, episodesCount = episodesCount)\n    }\n\n    private fun getEpisodes(tracks: JSONArray, bookId: String, size: Int): List<Episode> {\n        val list = ArrayList<Episode>()\n        (0 until tracks.length()).forEach {\n            val track = tracks.getJSONObject(it)\n            val id = track.getLong("id")\n            val index = size + it\n            val section = track.getInt("section")\n            val isFree = track.getInt("payType") == 0\n            val episodeUrl = if (isFree) {\n                "https://m.lrts.me/ajax/getPlayPath?entityId=${bookId}&entityType=3&opType=1&sections=[${section}]&type=0"\n            } else {\n                "https://m.lrts.me/player?index=${index}&entityType=3&sonId=${id}&id=${bookId}"\n            }\n            val episode = Episode(track.getString("name"), episodeUrl)\n            episode.isFree = isFree\n            list.add(episode)\n        }\n        return list\n    }\n\n    override fun getAudioUrlExtractor(): AudioUrlExtractor {\n//        AudioUrlWebViewSniffExtractor.setUp(validateUrl = null)//\xe9\x87\x8d\xe7\xbd\xae\xe6\x9d\xa1\xe4\xbb\xb6\n//        return AudioUrlWebViewSniffExtractor\n        return LanRenExtractor\n    }\n\n    override fun getCategoryMenus(): List<CategoryMenu> {\n//        val menu1 = CategoryMenu(\n//            "\xe4\xb8\xbb\xe6\x92\xad\xe7\x94\xb5\xe5\x8f\xb0", listOf(\n//                CategoryTab("\xe5\x85\xa8\xe9\x83\xa8", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=1000&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe4\xbb\x98\xe8\xb4\xb9\xe7\xb2\xbe\xe5\x93\x81", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=-16&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe6\x83\x85\xe6\x84\x9f", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3091&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe8\x84\xb1\xe5\x8f\xa3\xe7\xa7\x80", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3088&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe5\xb9\xbf\xe6\x92\xad\xe5\x89\xa7", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9252&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe4\xba\xb2\xe5\xad\x90", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3090&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe9\x9f\xb3\xe4\xb9\x90", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3089&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe4\xba\xba\xe6\x96\x87\xe5\x8e\x86\xe5\x8f\xb2", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3094&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe5\xa8\xb1\xe4\xb9\x90", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9030&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe8\xb4\xa2\xe7\xbb\x8f\xe7\xa7\x91\xe6\x8a\x80", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3092&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe6\xb1\xbd\xe8\xbd\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9243&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe5\x8a\xa8\xe6\xbc\xab", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=5251&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe5\x81\xa5\xe5\xba\xb7\xe7\x94\x9f\xe6\xb4\xbb", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3093&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe5\x85\xb6\xe4\xbb\x96\xe7\xb1\xbb\xe5\x88\xab", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3095&entityType=1&pageNum=1&showFilters=1"),\n//                CategoryTab("\xe7\xb2\xbe\xe5\x93\x81\xe8\xaf\xbe", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9268&entityType=1&pageNum=1&showFilters=1")\n//            )\n//        )\n\n        val menu2 = CategoryMenu(\n            "\xe6\x9c\x89\xe5\xa3\xb0\xe5\xb0\x8f\xe8\xaf\xb4", listOf(\n                CategoryTab("\xe7\x8e\x84\xe5\xb9\xbb\xe5\xa5\x87\xe5\xb9\xbb", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=11&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\x83\xbd\xe5\xb8\x82\xe4\xbc\xa0\xe8\xaf\xb4", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=8&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xa9\xbf\xe8\xb6\x8a\xe6\x9e\xb6\xe7\xa9\xba", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3109&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\xad\xa6\xe4\xbe\xa0\xe4\xbb\x99\xe4\xbe\xa0", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=14&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\x9d\x92\xe6\x98\xa5\xe6\xa0\xa1\xe5\x9b\xad", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3106&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x8e\x86\xe5\x8f\xb2\xe5\xb9\xbb\xe6\x83\xb3", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=12&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xa7\x91\xe5\xb9\xbb\xe7\xa9\xba\xe9\x97\xb4", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3021&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xbd\x91\xe6\xb8\xb8\xe7\xab\x9e\xe6\x8a\x80", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9042&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\x83\xad\xe8\xa1\x80\xe5\x86\x9b\xe4\xba\x8b", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9041&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xae\x98\xe5\x9c\xba\xe5\x95\x86\xe6\x88\x98", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=44&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\xac\xa1\xe5\x85\x83\xe4\xb8\x93\xe5\x8c\xba", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9287&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n\n        val menu3 = CategoryMenu(\n            "\xe8\xb4\xa2\xe7\xbb\x8f", listOf(\n                CategoryTab("\xe6\x8a\x95\xe8\xb5\x84\xe7\x90\x86\xe8\xb4\xa2", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3059&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe8\x82\xa1\xe5\xb8\x82", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3058&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x95\x86\xe4\xb8\x9a\xe6\x99\xba\xe6\x85\xa7", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3057&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xae\xa1\xe7\x90\x86\xe8\x90\xa5\xe9\x94\x80", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=16&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x88\x9b\xe4\xb8\x9a", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9048&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        val menu33 = CategoryMenu(\n            "\xe5\x84\xbf\xe7\xab\xa5", listOf(\n                CategoryTab("\xe7\x9b\x8a\xe6\x99\xba\xe6\x95\x85\xe4\xba\x8b", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=63&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x84\xbf\xe7\xab\xa5\xe6\x96\x87\xe5\xad\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3027&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x9b\xbd\xe5\xad\xa6\xe5\x90\xaf\xe8\x92\x99", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9031&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xae\xb6\xe6\x95\x99\xe8\x82\xb2\xe5\x84\xbf", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=65&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x8d\xa1\xe9\x80\x9a\xe5\x8a\xa8\xe7\x94\xbb", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9029&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xb0\x91\xe5\x84\xbf\xe5\x90\x8d\xe8\x91\x97", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9245&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xb0\x91\xe5\x84\xbf\xe7\xa7\x91\xe6\x99\xae", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=64&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xb0\x91\xe5\x84\xbf\xe5\x8e\x86\xe5\x8f\xb2", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9247&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xbb\x98\xe6\x9c\xac\xe6\x97\xa9\xe6\x95\x99", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9246&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xb0\x91\xe5\x84\xbf\xe8\x8b\xb1\xe8\xaf\xad", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=68&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x84\xbf\xe7\xab\xa5\xe6\xad\x8c\xe8\xb0\xa3", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=59&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\xaf\x8d\xe5\xa9\xb4\xe8\x83\x8e\xe6\x95\x99", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=66&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\x80\x9a\xe8\xaf\x86\xe6\x95\x99\xe8\x82\xb2", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9248&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x95\x99\xe8\xbe\x85\xe6\x95\x99\xe6\x9d\x90", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9249&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        val menu333 = CategoryMenu(\n            "\xe4\xba\xba\xe6\x96\x87", listOf(\n                CategoryTab("\xe5\xbf\x83\xe7\x90\x86\xe7\x99\xbe\xe7\xa7\x91", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9045&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xa7\x91\xe5\xad\xa6\xe7\xa7\x91\xe6\x99\xae", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9046&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe4\xba\xba\xe7\x89\xa9\xe4\xbc\xa0\xe8\xae\xb0", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=17&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xba\xaa\xe5\xae\x9e\xe4\xbc\xa0\xe5\xa5\x87", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3063&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x93\xb2\xe5\xad\xa6\xe5\xae\x97\xe6\x95\x99", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=1026&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x96\x87\xe8\x89\xba\xe6\x96\x87\xe5\x8c\x96", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9044&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x85\xac\xe5\xbc\x80\xe8\xaf\xbe", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=109&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\xb3\x95\xe5\xbe\x8b\xe5\x9f\xba\xe7\xa1\x80", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=85&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x86\x9c\xe6\x9e\x97\xe6\xb8\x94\xe7\x89\xa7", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9043&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x96\xb9\xe8\xa8\x80\xe5\xad\xa6\xe4\xb9\xa0", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=88&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        val menu4 = CategoryMenu(\n            "\xe6\x9b\xb2\xe8\x89\xba\xe6\x88\x8f\xe6\x9b\xb2", listOf(\n                CategoryTab("\xe6\x88\x8f\xe6\x9b\xb2\xe5\x90\x8d\xe5\xae\xb6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9060&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe8\xb1\xab\xe5\x89\xa7", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=95&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe4\xba\xac\xe5\x89\xa7", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=89&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\xbb\x84\xe6\xa2\x85\xe6\x88\x8f", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=93&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x9b\xb2\xe5\x89\xa7", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=1031&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe8\xb6\x8a\xe5\x89\xa7", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=90&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\xa5\x9a\xe5\x89\xa7", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=96&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x98\x86\xe6\x9b\xb2", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=91&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x9c\xb0\xe6\x96\xb9\xe6\x88\x8f", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=58&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\xbc\x93\xe4\xb9\xa6\xe7\x90\xb4\xe4\xb9\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=67&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        val menu5 = CategoryMenu(\n            "\xe6\x96\x87\xe5\xad\xa6", listOf(\n                CategoryTab("\xe5\xbd\xb1\xe8\xa7\x86\xe6\x96\x87\xe5\xad\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=5241&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x90\x8d\xe5\xae\xb6\xe5\x90\x8d\xe8\x91\x97", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=13&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x8e\xa8\xe7\x90\x86\xe5\xb0\x8f\xe8\xaf\xb4", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9139&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x8f\xa4\xe5\x85\xb8\xe6\x96\x87\xe5\xad\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9039&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x8e\xa2\xe9\x99\xa9\xe5\xb0\x8f\xe8\xaf\xb4", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9140&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xa4\x96\xe5\x9b\xbd\xe6\x96\x87\xe5\xad\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=82&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\x9d\x92\xe6\x98\xa5\xe6\x96\x87\xe5\xad\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3113&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xae\x98\xe5\x9c\xba\xe6\x96\x87\xe5\xad\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9028&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\x80\x9a\xe4\xbf\x97\xe6\x96\x87\xe5\xad\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=69&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x95\xa3\xe6\x96\x87\xe8\xaf\x97\xe6\xad\x8c", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3022&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x86\x9b\xe6\x97\x85\xe6\x96\x87\xe5\xad\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9040&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xa7\x91\xe5\xb9\xbb\xe5\xb0\x8f\xe8\xaf\xb4", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9208&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        val menu6 = CategoryMenu(\n            "\xe7\x9b\xb8\xe5\xa3\xb0\xe8\xaf\x84\xe4\xb9\xa6", listOf(\n                CategoryTab("\xe5\x8d\x95\xe7\x94\xb0\xe8\x8a\xb3", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=19&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x88\x98\xe5\x85\xb0\xe8\x8a\xb3", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=5247&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe8\xa2\x81\xe9\x98\x94\xe6\x88\x90", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=21&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe8\xbf\x9e\xe4\xb8\xbd\xe5\xa6\x82", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=20&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\x9f\xad\xe6\x89\x93\xe8\xaf\x84\xe4\xb9\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=74&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x8e\x86\xe5\x8f\xb2\xe8\xaf\x84\xe4\xb9\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3083&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x85\xac\xe6\xa1\x88\xe8\xaf\x84\xe4\xb9\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=5250&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\xac\xbc\xe7\x8b\x90\xe8\xaf\x84\xe4\xb9\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3047&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x96\x87\xe5\x8c\x96\xe8\xaf\x84\xe4\xb9\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=48&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\x9b\xb8\xe5\xa3\xb0\xe5\xb0\x8f\xe5\x93\x81", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=61&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        val menu7 = CategoryMenu(\n            "\xe5\x81\xa5\xe5\xba\xb7", listOf(\n                CategoryTab("\xe4\xb8\xad\xe5\x8c\xbb\xe5\x85\xbb\xe7\x94\x9f", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3069&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xa5\xb3\xe6\x80\xa7\xe5\x85\xbb\xe7\x94\x9f", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3070&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x81\xa5\xe5\xba\xb7\xe8\xaf\xbe\xe5\xa0\x82", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3072&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\x96\xbe\xe7\x97\x85\xe9\xa2\x84\xe9\x98\xb2", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3074&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\xa5\xae\xe9\xa3\x9f\xe8\x8d\xaf\xe8\x86\xb3", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=3073&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x8c\xbb\xe5\xad\xa6\xe8\x8d\xaf\xe5\x85\xb8", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=1030&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        val menu8 = CategoryMenu(\n            "\xe7\xb2\xbe\xe5\x93\x81\xe8\xaf\xbe", listOf(\n                CategoryTab("\xe5\x95\x86\xe4\xb8\x9a\xe8\xb4\xa2\xe7\xbb\x8f", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9253&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x8e\x86\xe5\x8f\xb2\xe8\xa7\xa3\xe5\xaf\x86", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9263&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe4\xba\xba\xe9\x99\x85\xe6\xb2\x9f\xe9\x80\x9a", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9255&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x90\x8d\xe8\x91\x97\xe7\xb2\xbe\xe8\xaf\xbb", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9262&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe8\x81\x8c\xe5\x9c\xba\xe6\x8f\x90\xe5\x8d\x87", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9254&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\xbf\x83\xe7\x90\x86\xe5\xad\xa6", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9258&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x96\x87\xe5\x8c\x96\xe8\x89\xba\xe6\x9c\xaf", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9264&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x81\xa5\xe5\xba\xb7\xe5\x85\xbb\xe7\x94\x9f", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9256&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x95\x99\xe8\x82\xb2\xe5\x9f\xb9\xe8\xae\xad", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9257&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x97\xb6\xe5\xb0\x9a\xe7\x94\x9f\xe6\xb4\xbb", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9265&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe8\xaf\xad\xe8\xa8\x80\xe5\xad\xa6\xe4\xb9\xa0", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9267&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe5\x93\xb2\xe5\xad\xa6\xe6\x80\x9d\xe6\x83\xb3", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9266&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\xb3\x95\xe5\xbe\x8b\xe8\xae\xb2\xe5\xa0\x82", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9259&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xa7\x91\xe6\x99\xae\xe7\x9f\xa5\xe8\xaf\x86", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9260&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x83\x85\xe6\x84\x9f\xe8\xa7\xa3\xe6\x83\x91", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9261&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        val menu9 = CategoryMenu(\n            "\xe5\x8e\x86\xe5\x8f\xb2", listOf(\n                CategoryTab("\xe5\x8e\x86\xe5\x8f\xb2\xe5\xb0\x8f\xe8\xaf\xb4", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9072&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe4\xb8\xad\xe5\x9b\xbd\xe5\x8f\xa4\xe4\xbb\xa3\xe5\x8f\xb2", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9209&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe4\xb8\xad\xe5\x9b\xbd\xe8\xbf\x91\xe4\xbb\xa3\xe5\x8f\xb2", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9210&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe4\xb8\x96\xe7\x95\x8c\xe5\x8f\xb2", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9068&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe7\xba\xa2\xe8\x89\xb2\xe8\xb6\xb3\xe8\xbf\xb9", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9070&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe9\x87\x8e\xe5\x8f\xb2\xe5\xbc\x82\xe9\x97\xbb", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9071&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x99\xae\xe5\x8f\x8a\xe8\xaf\xbb\xe7\x89\xa9", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=9073&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        val menu10 = CategoryMenu(\n            "\xe5\x85\xb6\xe4\xbb\x96", listOf(\n                CategoryTab("\xe7\x94\x9f\xe6\xb4\xbb", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=1019&entityType=1&pageNum=1&showFilters=1"),\n                CategoryTab("\xe6\x88\x90\xe5\x8a\x9f", "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=79&entityType=1&pageNum=1&showFilters=1")\n            )\n        )\n        return listOf(menu2, menu3, menu33, menu333, menu4, menu5, menu6, menu7, menu8, menu9, menu10)\n\n    }\n\n    override fun getCategoryList(url: String): Category {\n        val paramMap = url.split("?")[1].split("&").associate {\n            val s = it.split("=")\n            return@associate s.first() to s.last()\n        }\n        val entityId = paramMap["entityId"]!!.toInt()\n        val pageNum = paramMap["pageNum"]?.toInt() ?: 1\n        val result = Fuel.get(url).header(mapOf("User-Agent" to getMobileUA())).responseJson().third.get().obj()\n        val list = ArrayList<Book>()\n        var nextUrl = ""\n        val currentPage = 1\n        var totalPage = 1\n        val albumCount = result.getInt("albumCount")\n        val books = if (albumCount > 0) {\n            result.getJSONArray("albums")\n        } else {\n            result.getJSONArray("books")\n        }\n\n        (0 until books.length()).forEach { index ->\n            val book = books.getJSONObject(index)\n            var coverUrl = book.getString("cover")\n            if (!coverUrl.contains("180")) {\n                val coverName = coverUrl.substringBeforeLast(".")\n                val coverExt = coverUrl.substringAfterLast(".")\n                coverUrl = "${coverName}_180x254.${coverExt}"\n            }\n            val bookUrl = "https://m.lrts.me?" + book.getLong("id").toString()\n            var title = book.getString("name")\n            val author = book.getString("author")\n            val isFinished = book.getInt("state") == 2\n            val status = if (isFinished) "\xe5\xae\x8c\xe6\x9c\xac" else "\xe8\xbf\x9e\xe8\xbd\xbd\xe4\xb8\xad"\n            val artist = book.getString("announcer")\n            val intro = if (book.isNull("recReason")) {\n                book.optString("desc", "")\n            } else {\n                book.getString("recReason")\n            }\n            val tags = book.getJSONArray("tags").toString()\n            if (tags.contains("VIP")) {\n                title = "[VIP] $title"\n            } else if (tags.contains("\xe7\xb2\xbe\xe5\x93\x81")) {\n                title = "[\xe7\xb2\xbe\xe5\x93\x81] $title"\n            }\n\n            list.add(Book(coverUrl, bookUrl, title, author, artist).apply {\n                this.intro = intro\n                this.status = status\n                this.sourceId = getSourceId()\n                this.isCompleted = isFinished\n            })\n        }\n\n        if (pageNum == 1) {\n            val bookIdList = ArrayList<Long>()\n            val bookIds = if (albumCount > 0) {\n                result.getJSONArray("albumIds")\n            } else {\n                result.getJSONArray("bookIds")\n            }\n            (0 until bookIds.length()).forEach {\n                bookIdList.add(bookIds.getLong(it))\n                bookIdMap[entityId] = bookIdList\n            }\n            if (bookIdList.size > 20) {\n                totalPage = 2\n                val fromIndex = 20\n                var toIndex = fromIndex + 19\n                if (toIndex > bookIdList.size) {\n                    toIndex = bookIdList.size\n                }\n                val bookIdString = bookIdList.subList(fromIndex, toIndex).joinToString(",", "[", "]")\n                nextUrl = "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=${entityId}&entityType=0&pageNum=0&showFilters=0&bookIds=${bookIdString}"\n            }\n        } else {\n            val lastId = paramMap["bookIds"]!!.replace("[", "").replace("]", "").split(",").last().toLong()\n            val bookIdList = bookIdMap[entityId]!!\n            val fromIndex = bookIdList.indexOf(lastId) + 1\n            if (fromIndex < bookIdList.size) {\n                totalPage = 2//\xe7\x94\xa8\xe6\x9d\xa5\xe5\x88\xa4\xe6\x96\xad\xe6\x98\xaf\xe5\x90\xa6\xe6\x9c\x89\xe4\xb8\x8b\xe4\xb8\x80\xe9\xa1\xb5\xef\xbc\x8c\xe4\xb8\x8d\xe4\xb8\x80\xe5\xae\x9a\xe9\x9c\x80\xe8\xa6\x81\xe7\x9f\xa5\xe9\x81\x93\xe5\xae\x9e\xe9\x99\x85\xe9\xa1\xb5\xe6\x95\xb0\xef\xbc\x8c\xe5\x8f\xaa\xe8\xa6\x81current\xe4\xb8\x8d\xe7\xad\x89\xe4\xba\x8etotal\xe5\xb0\xb1\xe8\xa1\x8c\n                var toIndex = fromIndex + 19\n                if (toIndex > bookIdList.size) {\n                    toIndex = bookIdList.size\n                }\n                val bookIdString = bookIdList.subList(fromIndex, toIndex).joinToString(",", "[", "]")\n                nextUrl = "https://m.lrts.me/ajax/getResourceList?dsize=20&entityId=${entityId}&entityType=0&pageNum=0&showFilters=0&bookIds=${bookIdString}"\n            }\n        }\n\n        return Category(list, currentPage, totalPage, url, nextUrl)\n    }\n\n    override fun getLoginUrl(): String {\n        showToast("\xe7\x99\xbb\xe5\xbd\x95\xe6\x88\x90\xe5\x8a\x9f\xe5\x90\x8e\xe5\x8d\xb3\xe5\x8f\xaf\xe5\x85\xb3\xe9\x97\xad\xe9\xa1\xb5\xe9\x9d\xa2")\n        return "https://m.lrts.me/user"\n    }\n\n    override fun isLoginDesktop(): Boolean {\n        return false\n    }\n}\n\nobject LanRenExtractor: AudioUrlExtractor {\n    override fun extract(url: String, autoPlay: Boolean, isCache: Boolean, isDebug: Boolean) {\n        if (url.contains("getPlayPath")) {\n            AudioUrlJsonExtractor.setUp {\n                val jsonarray = it.obj().getJSONArray("list")\n                return@setUp jsonarray.getJSONObject(0).getString("path")\n            }\n            AudioUrlJsonExtractor.extract(url, autoPlay, isCache, isDebug)\n        } else {\n            AudioUrlWebViewSniffExtractor.setUp(validateUrl = null)//\xe9\x87\x8d\xe7\xbd\xae\xe6\x9d\xa1\xe4\xbb\xb6\n            AudioUrlWebViewSniffExtractor.extract(url, autoPlay, isCache, isDebug)\n        }\n    }\n}'