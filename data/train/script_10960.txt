b'package io.github.javiewer.fragment;\n\n\nimport android.os.Bundle;\nimport androidx.annotation.Nullable;\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\nimport io.github.javiewer.JAViewer;\nimport io.github.javiewer.adapter.ActressAdapter;\nimport io.github.javiewer.adapter.item.Actress;\nimport io.github.javiewer.network.provider.AVMOProvider;\nimport io.github.javiewer.view.decoration.ActressItemDecoration;\nimport io.github.javiewer.view.listener.EndlessOnScrollListener;\nimport okhttp3.ResponseBody;\nimport retrofit2.Call;\n\npublic class ActressesFragment extends RecyclerFragment<Actress, LinearLayoutManager> {\n\n    public ActressesFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        this.setLayoutManager(new LinearLayoutManager(this.getContext()));\n        //this.setAdapter(new SlideInBottomAnimationAdapter(new ActressAdapter(getItems(), this.getActivity())));\n        this.setAdapter(new ActressAdapter(getItems(), this.getActivity()));\n\n        mRecyclerView.addItemDecoration(new ActressItemDecoration());\n\n        /*RecyclerView.ItemAnimator animator = new SlideInUpAnimator();\n        animator.setAddDuration(300);\n        mRecyclerView.setItemAnimator(animator);*/\n\n        this.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n            @Override\n            public void onRefresh() {\n                getOnScrollListener().refresh();\n            }\n        });\n\n        this.addOnScrollListener(new EndlessOnScrollListener<Actress>() {\n            @Override\n            public Call<ResponseBody> newCall(int page) {\n                return ActressesFragment.this.newCall(page);\n            }\n\n            @Override\n            public RecyclerView.LayoutManager getLayoutManager() {\n                return ActressesFragment.this.getLayoutManager();\n            }\n\n            @Override\n            public SwipeRefreshLayout getRefreshLayout() {\n                return ActressesFragment.this.mRefreshLayout;\n            }\n\n            @Override\n            public RecyclerView.Adapter getAdapter() {\n                return ActressesFragment.this.getAdapter();\n            }\n\n            @Override\n            public List<Actress> getItems() {\n                return ActressesFragment.this.getItems();\n            }\n\n            @Override\n            public void onResult(ResponseBody response) throws Exception {\n                super.onResult(response);\n                List<Actress> wrappers = AVMOProvider.parseActresses(response.string());\n\n                int pos = getItems().size();\n\n                getItems().addAll(wrappers);\n                getAdapter().notifyItemRangeInserted(pos, wrappers.size());\n            }\n        });\n\n        mRefreshLayout.post(new Runnable() {\n            @Override\n            public void run() {\n                mRefreshLayout.setRefreshing(true);\n                getOnRefreshListener().onRefresh();\n            }\n        });\n\n        super.onActivityCreated(savedInstanceState);\n    }\n\n    public Call<ResponseBody> newCall(int page) {\n        return JAViewer.SERVICE.getActresses(page);\n    }\n}\n'