b'package com.zzg.mybatis.generator.plugins;\n\nimport org.mybatis.generator.api.IntrospectedTable;\nimport org.mybatis.generator.api.PluginAdapter;\nimport org.mybatis.generator.api.dom.java.*;\nimport org.mybatis.generator.api.dom.xml.Attribute;\nimport org.mybatis.generator.api.dom.xml.TextElement;\nimport org.mybatis.generator.api.dom.xml.XmlElement;\n\nimport java.util.List;\n\n/**\n * Project: mybatis-generator-gui\n *\n * @author slankka on 2017/11/4.\n */\npublic class MySQLForUpdatePlugin extends PluginAdapter {\n\n    @Override\n    public boolean validate(List<String> warnings) {\n        return true;\n    }\n\n    @Override\n    public boolean modelExampleClassGenerated(TopLevelClass topLevelClass, IntrospectedTable introspectedTable) {\n\n        PrimitiveTypeWrapper booleanWrapper = FullyQualifiedJavaType.getBooleanPrimitiveInstance().getPrimitiveTypeWrapper();\n        Field forUpdate = new Field();\n        forUpdate.setName("forUpdate");\n        forUpdate.setVisibility(JavaVisibility.PRIVATE);\n        forUpdate.setType(booleanWrapper);\n        topLevelClass.addField(forUpdate);\n\n        Method setForUpdate = new Method();\n        setForUpdate.setVisibility(JavaVisibility.PUBLIC);\n        setForUpdate.setName("setForUpdate");\n        setForUpdate.addParameter(new Parameter(booleanWrapper, "forUpdate"));\n        setForUpdate.addBodyLine("this.forUpdate = forUpdate;");\n        topLevelClass.addMethod(setForUpdate);\n\n        Method getForUpdate = new Method();\n        getForUpdate.setVisibility(JavaVisibility.PUBLIC);\n        getForUpdate.setReturnType(booleanWrapper);\n        getForUpdate.setName("getForUpdate");\n        getForUpdate.addBodyLine("return forUpdate;");\n        topLevelClass.addMethod(getForUpdate);\n\n        return true;\n    }\n\n    private void appendForUpdate(XmlElement element, IntrospectedTable introspectedTable) {\n        XmlElement forUpdateElement = new XmlElement("if");\n        forUpdateElement.addAttribute(new Attribute("test", "forUpdate != null and forUpdate == true"));\n        forUpdateElement.addElement(new TextElement("for update"));\n        element.addElement(forUpdateElement);\n    }\n\n\n    @Override\n    public boolean sqlMapSelectByExampleWithoutBLOBsElementGenerated(XmlElement element, IntrospectedTable introspectedTable) {\n        appendForUpdate(element, introspectedTable);\n        return true;\n    }\n\n    @Override\n    public boolean sqlMapSelectByExampleWithBLOBsElementGenerated(XmlElement element, IntrospectedTable introspectedTable) {\n        appendForUpdate(element, introspectedTable);\n        return true;\n    }\n}\n'