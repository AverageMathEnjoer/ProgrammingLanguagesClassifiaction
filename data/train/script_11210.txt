b'package io.github.javiewer.adapter;\n\nimport android.app.Activity;\nimport android.content.ClipData;\nimport android.content.ClipboardManager;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Paint;\nimport android.os.Bundle;\nimport androidx.core.content.res.ResourcesCompat;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport io.github.javiewer.R;\nimport io.github.javiewer.activity.MovieListActivity;\nimport io.github.javiewer.adapter.item.MovieDetail;\nimport io.github.javiewer.view.ViewUtil;\n\n/**\n * Project: JAViewer\n */\n\npublic class MovieHeaderAdapter extends RecyclerView.Adapter<MovieHeaderAdapter.ViewHolder> {\n\n    public boolean first = true;\n    private List<MovieDetail.Header> headers;\n    private Activity mParentActivity;\n    private ImageView mIcon;\n\n    public MovieHeaderAdapter(List<MovieDetail.Header> headers, Activity mParentActivity, ImageView mIcon) {\n        this.headers = headers;\n        this.mParentActivity = mParentActivity;\n        this.mIcon = mIcon;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_header, parent, false);\n\n        return new ViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(final ViewHolder holder, int position) {\n        final MovieDetail.Header header = headers.get(position);\n\n        if (header.name != null && header.value != null) {\n            holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\n                @Override\n                public boolean onLongClick(View v) {\n                    ClipboardManager clip = (ClipboardManager) mParentActivity.getSystemService(Context.CLIPBOARD_SERVICE);\n                    clip.setPrimaryClip(ClipData.newPlainText(header.name, header.value));\n                    Toast.makeText(mParentActivity, "\xe5\xb7\xb2\xe5\xa4\x8d\xe5\x88\xb6\xe5\x88\xb0\xe5\x89\xaa\xe8\xb4\xb4\xe6\x9d\xbf", Toast.LENGTH_SHORT).show();\n\n                    return true;\n                }\n            });\n\n            holder.mHeaderName.setText(header.name);\n            holder.mHeaderValue.setText(header.value);\n\n            if (header.getLink() != null) {\n                holder.mHeaderValue.setPaintFlags(holder.mHeaderValue.getPaintFlags() | Paint.UNDERLINE_TEXT_FLAG);\n                holder.mHeaderValue.setTextColor(ResourcesCompat.getColor(this.mParentActivity.getResources(), R.color.colorAccent, null));\n                holder.mHeaderValue.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Intent intent = new Intent(mParentActivity, MovieListActivity.class);\n                        Bundle bundle = new Bundle();\n                        bundle.putString("title", header.getName() + " " + header.getValue());\n                        bundle.putString("link", header.getLink());\n                        intent.putExtras(bundle);\n                        mParentActivity.startActivity(intent);\n                    }\n                });\n            }\n\n            if (first) {\n                ViewUtil.alignIconToView(mIcon, holder.mHeaderName);\n                first = false;\n            }\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return headers == null ? 0 : headers.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        @BindView(R.id.header_name)\n        public TextView mHeaderName;\n\n        @BindView(R.id.header_value)\n        public TextView mHeaderValue;\n\n        public ViewHolder(View view) {\n            super(view);\n            ButterKnife.bind(this, view);\n        }\n    }\n}\n'