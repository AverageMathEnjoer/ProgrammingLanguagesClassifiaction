b'\xef\xbb\xbfusing System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\nusing System.Windows.Forms;\n\nnamespace BaiduPanDownload.Util\n{\n    class FileOperation\n    {\n        /// <summary>\n        /// \xe5\x90\x88\xe5\xb9\xb6\xe6\x96\x87\xe4\xbb\xb6\n        /// </summary>\n        /// <param name="Files">\xe9\x9c\x80\xe8\xa6\x81\xe5\x90\x88\xe5\xb9\xb6\xe7\x9a\x84\xe6\x96\x87\xe4\xbb\xb6\xe6\x95\xb0\xe7\xbb\x84</param>\n        /// <param name="Path">\xe8\xbe\x93\xe5\x87\xba\xe7\x9b\xae\xe5\xbd\x95</param>\n        public static void CombineFiles(string[] Files,string Path)\n        {\n            try\n            {\n                int readfile;\n                byte[] bytes = new byte[8192];\n                using(FileStream targetFileStream = new FileStream(Path, FileMode.Create))\n                {\n                    foreach (string file in Files)\n                    {\n                        using (FileStream fileStream = new FileStream(file, FileMode.Open))\n                        {\n                            while (true)\n                            {\n                                readfile = fileStream.Read(bytes, 0, bytes.Length);\n                                if (readfile <= 0)\n                                {\n                                    break;\n                                }\n                                targetFileStream.Write(bytes, 0, readfile);\n                            }\n                        }\n                        File.Delete(file);\n                    }\n                }\n            }catch(Exception ex)\n            {\n                MessageBox.Show("\xe5\x90\x88\xe5\xb9\xb6\xe6\x96\x87\xe4\xbb\xb6\xe5\xa4\xb1\xe8\xb4\xa5: "+ex.Message);\n            }\n        }\n\n        /// <summary>\n        /// \xe5\x88\x86\xe5\x89\xb2\xe6\x96\x87\xe4\xbb\xb6\n        /// </summary>\n        /// <param name="FileName">\xe8\xa2\xab\xe6\x8b\x86\xe5\x88\x86\xe6\x96\x87\xe4\xbb\xb6</param>\n        /// <param name="OutFile">\xe6\x8b\x86\xe5\x88\x86\xe5\x90\x8e\xe6\x96\x87\xe4\xbb\xb6</param>\n        /// <param name="Size">\xe5\x8d\x95\xe4\xb8\xaa\xe6\x96\x87\xe4\xbb\xb6\xe9\x95\xbf\xe5\xba\xa6</param>\n        /// <returns>\xe5\xad\x90\xe6\x96\x87\xe4\xbb\xb6\xe5\x88\x97\xe8\xa1\xa8</returns>\n        public static ArrayList SplitFile(string FileName, string OutFileName, int Size)\n        {\n            try\n            {\n                using (FileStream inFile = new FileStream(FileName, FileMode.OpenOrCreate, FileAccess.Read))\n                {\n                    ArrayList ret = new ArrayList();\n                    bool mark = true;\n                    int i = 0;\n                    int n = 0;\n                    byte[] buffer = new byte[Size];\n                    while (mark)\n                    {\n                        string name = OutFileName + i.ToString() + ".Tmp";\n                        FileStream OutFile = new FileStream(name, FileMode.OpenOrCreate, FileAccess.ReadWrite);\n                        ret.Add(name);\n                        if ((n = inFile.Read(buffer, 0, Size)) > 0)\n                        {\n                            OutFile.Write(buffer, 0, n);\n                            i++;\n                            OutFile.Close();\n                        }\n                        else\n                        {\n                            OutFile.Close();\n                            File.Delete(name);\n                            ret.Remove(name);\n                            break;\n                        }\n                    }\n                    return ret;\n                }\n            }\n            catch(Exception ex)\n            {\n                MessageBox.Show("\xe5\x88\x86\xe5\x89\xb2\xe6\x96\x87\xe4\xbb\xb6\xe5\xa4\xb1\xe8\xb4\xa5: "+ex.Message);\n            }\n            return null;\n        }\n    }\n}\n'