b'// UVa11582 Colossal Fibonacci Numbers!\n// Rujia Liu\n#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\n\nconst int maxn = 1000 + 5;\ntypedef unsigned long long ULL;\n\nint f[maxn][maxn*6], period[maxn];\n\nint pow_mod(ULL a, ULL b, int n) {\n  if(!b) return 1;\n  int k = pow_mod(a, b/2, n);\n  k = k * k % n;\n  if(b % 2) k = k * a % n;\n  return k;\n}\n\nint solve(ULL a, ULL b, int n) {\n  if(a == 0 || n == 1) return 0; // attention!\n  int p = pow_mod(a % period[n], b, period[n]);\n  return f[n][p];\n}\n\nint main() {\n  for(int n = 2; n <= 1000; n++) {\n    f[n][0] = 0; f[n][1] = 1;\n    for(int i = 2; ; i++) {\n      f[n][i] = (f[n][i-1] + f[n][i-2]) % n;\n      if(f[n][i-1] == 0 && f[n][i] == 1) {\n        period[n] = i - 1;\n        break;\n      }\n    }\n  }\n  ULL a, b;\n  int n, T;\n  cin >> T;\n  while(T--) {\n    cin >> a >> b >> n;\n    cout << solve(a, b, n) << "\\n";\n  }\n  return 0;\n}\n'