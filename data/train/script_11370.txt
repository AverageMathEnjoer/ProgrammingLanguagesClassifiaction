b'#include <bits/stdc++.h>\nusing namespace std;\n#define gc getchar_unlocked\n#define fo(i,n) for(i=0;i<n;i++)\n#define Fo(i,k,n) for(i=k;i<n;i++)\n#define ll long long\n#define si(x)\tscanf("%d",&x)\n#define sl(x)\tscanf("%I64d",&x)\n#define ss(s)\tscanf("%s",s)\n#define pb push_back\n#define mp make_pair\n#define F first\n#define S second\n#define all(x) x.begin(), x.end()\n#define clr(x) memset(x, 0, sizeof(x))\n#define sortall(x) sort(all(x))\n#define tr(it, a) for(auto it = a.begin(); it != a.end(); it++)\n#define PI 3.1415926535897932384626\ntypedef pair<int, int>\tpii;\ntypedef pair<ll, ll>\tpll;\ntypedef vector<int>\t\tvi;\ntypedef vector<ll>\t\tvl;\ntypedef vector<pii>\t\tvpii;\ntypedef vector<pll>\t\tvpll;\ntypedef vector<vi>\t\tvvi;\ntypedef vector<vl>\t\tvvl;\nconst int mod = 1000000007;\nconst int N = 3e5;\nvi g[N];\nint a[N];\n\n//BEGIN\nmap<int, ll> cnt[N], val[N];\nint id[N], col[N];\nll ans[N];\n//http://codeforces.com/contest/600/problem/E\n//Notice how ids of u and v swap due to &\nvoid merge(int &u, int &v){\n\tif ((int)cnt[u].size() > (int)cnt[v].size()) swap(u, v);\n\tfor (auto it: cnt[u]){\n\t\tint c = it.F; int occ = it.S;\n\t\tval[v][cnt[v][c]] -= c;\n\t\tcnt[v][c] += occ;\n\t\tval[v][cnt[v][c]] += c;\n\t}\n}\nvoid dfs(int u, int par){\n\tid[u] = u;\n\tcnt[u][col[u]] = 1;\n\tval[u][1] = col[u];\n\tfor(int v: g[u]){\n\t\tif (v == par) continue;\n\t\tdfs(v, u);\n\t\tmerge(id[v], id[u]);\n\t}\n\tans[u] = val[id[u]].rbegin()->S;\n}\n//END\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\tint i,n,k,j, u, v;\n\tcin>>n;\n\tfo(i, n) cin>>col[i+1];\n\tfo(i, n-1){\n\t\tcin>>u>>v;\n\t\tg[u].pb(v);\n\t\tg[v].pb(u);\n\t}\n\tdfs(1, 0);\n    Fo(i, 1, n+1) cout<<ans[i]<<" ";\n\treturn 0;\n}\n\n'