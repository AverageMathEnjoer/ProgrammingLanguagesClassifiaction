b'package com.naman14.timber.widgets.desktop;\n\nimport android.app.PendingIntent;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.widget.RemoteViews;\n\nimport com.naman14.timber.MusicService;\nimport com.naman14.timber.R;\nimport com.naman14.timber.utils.NavigationUtils;\nimport com.naman14.timber.utils.TimberUtils;\nimport com.nostra13.universalimageloader.core.ImageLoader;\n\n/**\n * Created by nv95 on 08.07.16.\n */\n\npublic class StandardWidget extends BaseWidget {\n\n    @Override\n    int getLayoutRes() {\n        return R.layout.widget_standard;\n    }\n\n    @Override\n    void onViewsUpdate(Context context, RemoteViews remoteViews, ComponentName serviceName, Bundle extras) {\n        remoteViews.setOnClickPendingIntent(R.id.image_next, PendingIntent.getService(\n                context,\n                REQUEST_NEXT,\n                new Intent(context, MusicService.class)\n                        .setAction(MusicService.NEXT_ACTION)\n                        .setComponent(serviceName),\n                0\n        ));\n        remoteViews.setOnClickPendingIntent(R.id.image_prev, PendingIntent.getService(\n                context,\n                REQUEST_PREV,\n                new Intent(context, MusicService.class)\n                        .setAction(MusicService.PREVIOUS_ACTION)\n                        .setComponent(serviceName),\n                0\n        ));\n        remoteViews.setOnClickPendingIntent(R.id.image_playpause, PendingIntent.getService(\n                context,\n                REQUEST_PLAYPAUSE,\n                new Intent(context, MusicService.class)\n                        .setAction(MusicService.TOGGLEPAUSE_ACTION)\n                        .setComponent(serviceName),\n                0\n        ));\n\n        if (extras != null) {\n            String t = extras.getString("track");\n            if (t != null) {\n                remoteViews.setTextViewText(R.id.textView_title, t);\n            }\n            t = extras.getString("artist");\n            ;\n            if (t != null) {\n                String album = extras.getString("album");\n                ;\n                if (!TextUtils.isEmpty(album)) {\n                    t += " - " + album;\n                }\n                remoteViews.setTextViewText(R.id.textView_subtitle, t);\n            }\n            remoteViews.setImageViewResource(R.id.image_playpause,\n                    extras.getBoolean("playing") ? R.drawable.ic_pause_white_36dp : R.drawable.ic_play_white_36dp);\n            long albumId = extras.getLong("albumid");\n            if (albumId != -1) {\n                Bitmap artwork = ImageLoader.getInstance().loadImageSync(TimberUtils.getAlbumArtUri(albumId).toString());\n                if (artwork != null) {\n                    remoteViews.setImageViewBitmap(R.id.imageView_cover, artwork);\n                } else {\n                    remoteViews.setImageViewResource(R.id.imageView_cover, R.drawable.ic_empty_music2);\n                }\n            }\n        }\n        remoteViews.setOnClickPendingIntent(R.id.imageView_cover, PendingIntent.getActivity(\n                context,\n                0,\n                NavigationUtils.getNowPlayingIntent(context),\n                PendingIntent.FLAG_UPDATE_CURRENT\n        ));\n    }\n}\n'