b'/*\n * Copyright (C) 2015 Naman Dwivedi\n *\n * Licensed under the GNU General Public License v3\n *\n * This is free software: you can redistribute it and/or modify it\n * under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * This software is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n * See the GNU General Public License for more details.\n */\n\npackage com.naman14.timber.dataloaders;\n\nimport android.content.ContentResolver;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.provider.MediaStore;\n\nimport com.naman14.timber.models.Song;\nimport com.naman14.timber.utils.PreferencesUtility;\n\nimport java.util.ArrayList;\n\npublic class ArtistSongLoader {\n\n    public static ArrayList<Song> getSongsForArtist(Context context, long artistID) {\n        Cursor cursor = makeArtistSongCursor(context, artistID);\n        ArrayList songsList = new ArrayList();\n        if ((cursor != null) && (cursor.moveToFirst()))\n            do {\n                long id = cursor.getLong(0);\n                String title = cursor.getString(1);\n                String artist = cursor.getString(2);\n                String album = cursor.getString(3);\n                int duration = cursor.getInt(4);\n                int trackNumber = cursor.getInt(5);\n                long albumId = cursor.getInt(6);\n                long artistId = artistID;\n\n                songsList.add(new Song(id, albumId, artistID, title, artist, album, duration, trackNumber));\n            }\n            while (cursor.moveToNext());\n        if (cursor != null)\n            cursor.close();\n        return songsList;\n    }\n\n\n    public static Cursor makeArtistSongCursor(Context context, long artistID) {\n        ContentResolver contentResolver = context.getContentResolver();\n        final String artistSongSortOrder = PreferencesUtility.getInstance(context).getArtistSongSortOrder();\n        Uri uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n        String string = "is_music=1 AND title != \'\' AND artist_id=" + artistID;\n        return contentResolver.query(uri, new String[]{"_id", "title", "artist", "album", "duration", "track", "album_id"}, string, null, artistSongSortOrder);\n    }\n\n}\n'