b'// UVa1625 Color Length\n// Rujia Liu\n\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nconst int maxn = 5000 + 5;\nconst int INF = 1000000000;\n\nchar p[maxn], q[maxn]; // starts from position 1\nint sp[26], sq[26], ep[26], eq[26]; // sp[i] start positions of character i in p\nint d[2][maxn], c[2][maxn]; // c[i][j]: how many "incomplete" colors in the mixed sequence\n\nint main() {\n  int T;\n  scanf("%d", &T);\n  while(T--) {\n    scanf("%s%s", p+1, q+1);\n\n    int n = strlen(p+1);\n    int m = strlen(q+1);\n    for(int i = 1; i <= n; i++) p[i] -= \'A\';\n    for(int i = 1; i <= m; i++) q[i] -= \'A\';\n\n    // calculate s and e\n    for(int i = 0; i < 26; i++) { sp[i] = sq[i] = INF; ep[i] = eq[i] = 0; }\n    for(int i = 1; i <= n; i++) {\n      sp[p[i]] = min(sp[p[i]], i);\n      ep[p[i]] = i;\n    }\n    for(int i = 1; i <= m; i++) {\n      sq[q[i]] = min(sq[q[i]], i);\n      eq[q[i]] = i;\n    }\n\n    // dp\n    int t = 0;\n    memset(c, 0, sizeof(c));\n    memset(d, 0, sizeof(d));\n    for(int i = 0; i <= n; i++){\n      for(int j = 0; j <= m; j++){\n        if(!i && !j) continue;\n\n        // calculate d\n        int v1 = INF, v2 = INF;\n        if(i) v1 = d[t^1][j] + c[t^1][j]; // remove from p\n        if(j) v2 = d[t][j - 1] + c[t][j - 1]; // remove from q\n        d[t][j] = min(v1, v2);\n\n        // calculate c\n        if(i) {\n          c[t][j] = c[t^1][j];\n          if(sp[p[i]] == i && sq[p[i]] > j) c[t][j]++;\n          if(ep[p[i]] == i && eq[p[i]] <= j) c[t][j]--;\n        } else if(j) {\n          c[t][j] = c[t][j - 1];\n          if(sq[q[j]] == j && sp[q[j]] > i) c[t][j]++;\n          if(eq[q[j]] == j && ep[q[j]] <= i) c[t][j]--;\n        }\n      }\n      t ^= 1;\n    }\n    printf("%d\\n", d[t^1][m]);\n  }\n  return 0;\n}\n'