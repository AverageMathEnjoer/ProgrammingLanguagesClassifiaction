b'\xef\xbb\xbf// UVa10562 Undraw the Trees\n// Rujia Liu\n// \xe9\xa2\x98\xe6\x84\x8f\xef\xbc\x9a\xe6\x8a\x8a\xe7\x94\xbb\xe5\xbe\x97\xe6\x8c\xba\xe5\xa5\xbd\xe7\x9c\x8b\xe7\x9a\x84\xe5\xa4\x9a\xe5\x8f\x89\xe6\xa0\x91\xe8\xbd\xac\xe5\x8c\x96\xe4\xb8\xba\xe6\x8b\xac\xe5\x8f\xb7\xe8\xa1\xa8\xe7\xa4\xba\xe6\xb3\x95\n// \xe7\xae\x97\xe6\xb3\x95\xef\xbc\x9a\xe7\x9b\xb4\xe6\x8e\xa5\xe5\x9c\xa8\xe4\xba\x8c\xe7\xbb\xb4\xe5\xad\x97\xe7\xac\xa6\xe6\x95\xb0\xe7\xbb\x84\xe9\x87\x8c\xe9\x80\x92\xe5\xbd\x92\xe3\x80\x82\xe6\xb3\xa8\xe6\x84\x8f\xe7\xa9\xba\xe6\xa0\x91\xef\xbc\x8c\xe5\xb9\xb6\xe4\xb8\x94\xe7\xbb\x93\xe7\x82\xb9\xe6\xa0\x87\xe5\x8f\xb7\xe5\x8f\xaf\xe4\xbb\xa5\xe6\x98\xaf\xe4\xbb\xbb\xe6\x84\x8f\xe5\x8f\xaf\xe6\x89\x93\xe5\x8d\xb0\xe5\xad\x97\xe7\xac\xa6\n\n#include<cstdio>\n#include<cctype>\n#include<cstring>\nusing namespace std;\n\nconst int maxn = 200 + 10;\nint n;\nchar buf[maxn][maxn];\n\n// \xe9\x80\x92\xe5\xbd\x92\xe9\x81\x8d\xe5\x8e\x86\xe5\xb9\xb6\xe4\xb8\x94\xe8\xbe\x93\xe5\x87\xba\xe4\xbb\xa5\xe5\xad\x97\xe7\xac\xa6buf[r][c]\xe4\xb8\xba\xe6\xa0\xb9\xe7\x9a\x84\xe6\xa0\x91\nvoid dfs(int r, int c) {\n  printf("%c(", buf[r][c]);\n  if(r+1 < n && buf[r+1][c] == \'|\') { // \xe6\x9c\x89\xe5\xad\x90\xe6\xa0\x91\n    int i = c;\n    while(i-1 >= 0 && buf[r+2][i-1] == \'-\') i--; // \xe6\x89\xbe"----"\xe7\x9a\x84\xe5\xb7\xa6\xe8\xbe\xb9\xe7\x95\x8c\n    while(buf[r+2][i] == \'-\' && buf[r+3][i] != \'\\0\') {\n      if(!isspace(buf[r+3][i])) dfs(r+3, i); // fgets\xe8\xaf\xbb\xe5\x85\xa5\xe7\x9a\x84\'\\n\'\xe4\xb9\x9f\xe6\xbb\xa1\xe8\xb6\xb3isspace()\n      i++;\n    }\n  }\n  printf(")");\n}\n\nvoid solve() {\n  n = 0;\n  for(;;) {\n    fgets(buf[n], maxn, stdin);\n    if(buf[n][0] == \'#\') break; else n++;\n  }\n  printf("(");\n  if(n) {\n    for(int i = 0; i < strlen(buf[0]); i++)\n      if(buf[0][i] != \' \') { dfs(0, i); break; }\n  }\n  printf(")\\n");\n}\n\nint main() {\n  int T;\n  fgets(buf[0], maxn, stdin);\n  sscanf(buf[0], "%d", &T);\n  while(T--) solve();\n  return 0;\n}\n'