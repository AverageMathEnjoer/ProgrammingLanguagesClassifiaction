b'// Copyright (c) 2023 Manuel Schneider\n\n#include "albert/logging.h"\n#include "scopedcrashindicator.h"\n#include <QFile>\n#include <QStandardPaths>\n#include <QString>\n\nScopedCrashIndicator::ScopedCrashIndicator()\n{\n    QString filePath = QStandardPaths::writableLocation(QStandardPaths::CacheLocation)+"/running";\n    if (QFile::exists(filePath)){\n        CRIT << "Application has not been terminated graciously";\n    } else {\n        DEBG << "Creating crash indicator file";\n        QFile file(filePath);\n        if (!file.open(QIODevice::WriteOnly))\n            WARN << "Could not create file:" << filePath;\n        file.close();\n    }\n}\n\nScopedCrashIndicator::~ScopedCrashIndicator()\n{\n    INFO << "Removing crash indicator file";\n    QFile::remove(QStandardPaths::writableLocation(QStandardPaths::CacheLocation)+"/running");\n}\n'