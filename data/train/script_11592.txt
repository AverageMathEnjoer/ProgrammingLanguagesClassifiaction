b'package com.codeest.geeknews.base;\r\n\r\nimport android.os.Bundle;\r\nimport android.support.annotation.Nullable;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.codeest.geeknews.app.App;\r\nimport com.codeest.geeknews.di.component.DaggerFragmentComponent;\r\nimport com.codeest.geeknews.di.component.FragmentComponent;\r\nimport com.codeest.geeknews.di.module.FragmentModule;\r\nimport com.codeest.geeknews.util.SnackbarUtil;\r\n\r\nimport javax.inject.Inject;\r\n\r\n/**\r\n * Created by codeest on 2016/8/2.\r\n * MVP Fragment\xe5\x9f\xba\xe7\xb1\xbb\r\n */\r\npublic abstract class BaseFragment<T extends BasePresenter> extends SimpleFragment implements BaseView {\r\n\r\n    @Inject\r\n    protected T mPresenter;\r\n\r\n    protected FragmentComponent getFragmentComponent(){\r\n        return DaggerFragmentComponent.builder()\r\n                .appComponent(App.getAppComponent())\r\n                .fragmentModule(getFragmentModule())\r\n                .build();\r\n    }\r\n\r\n    protected FragmentModule getFragmentModule(){\r\n        return new FragmentModule(this);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\r\n        initInject();\r\n        mPresenter.attachView(this);\r\n        super.onViewCreated(view, savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        if (mPresenter != null) mPresenter.detachView();\r\n        super.onDestroyView();\r\n    }\r\n\r\n    @Override\r\n    public void showErrorMsg(String msg) {\r\n        SnackbarUtil.show(((ViewGroup) getActivity().findViewById(android.R.id.content)).getChildAt(0), msg);\r\n    }\r\n\r\n    @Override\r\n    public void useNightMode(boolean isNight) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void stateError() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void stateEmpty() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void stateLoading() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void stateMain() {\r\n\r\n    }\r\n\r\n    protected abstract void initInject();\r\n}'