b'\xef\xbb\xbf// UVa129 Krypton Factor\n// Rujia Liu\n#include<stdio.h>\nint n, L, cnt;\nint S[100];\n\nint dfs(int cur) {                                       // \xe8\xbf\x94\xe5\x9b\x9e0\xe8\xa1\xa8\xe7\xa4\xba\xe5\xb7\xb2\xe7\xbb\x8f\xe5\xbe\x97\xe5\x88\xb0\xe8\xa7\xa3\xef\xbc\x8c\xe6\x97\xa0\xe9\xa1\xbb\xe7\xbb\xa7\xe7\xbb\xad\xe6\x90\x9c\xe7\xb4\xa2\n  if(cnt++ == n) {\n    for(int i = 0; i < cur; i++) {\n      if(i % 64 == 0 && i > 0) printf("\\n");\n      else if(i % 4 == 0 && i > 0) printf(" ");\n      printf("%c", \'A\'+S[i]); // \xe8\xbe\x93\xe5\x87\xba\xe6\x96\xb9\xe6\xa1\x88\n    }\n    printf("\\n%d\\n", cur);\n    return 0;\n  }\n  for(int i = 0; i < L; i++) {\n    S[cur] = i;\n    int ok = 1;\n    for(int j = 1; j*2 <= cur+1; j++) {                  // \xe5\xb0\x9d\xe8\xaf\x95\xe9\x95\xbf\xe5\xba\xa6\xe4\xb8\xbaj*2\xe7\x9a\x84\xe5\x90\x8e\xe7\xbc\x80\n      int equal = 1;\n      for(int k = 0; k < j; k++)                         // \xe6\xa3\x80\xe6\x9f\xa5\xe5\x90\x8e\xe4\xb8\x80\xe5\x8d\x8a\xe6\x98\xaf\xe5\x90\xa6\xe7\xad\x89\xe4\xba\x8e\xe5\x89\x8d\xe4\xb8\x80\xe5\x8d\x8a\n        if(S[cur-k] != S[cur-k-j]) { equal = 0; break; }\n      if(equal) { ok = 0; break; }                       // \xe5\x90\x8e\xe4\xb8\x80\xe5\x8d\x8a\xe7\xad\x89\xe4\xba\x8e\xe5\x89\x8d\xe4\xb8\x80\xe5\x8d\x8a\xef\xbc\x8c\xe6\x96\xb9\xe6\xa1\x88\xe4\xb8\x8d\xe5\x90\x88\xe6\xb3\x95\n    }\n    if(ok) if(!dfs(cur+1)) return 0;                     // \xe9\x80\x92\xe5\xbd\x92\xe6\x90\x9c\xe7\xb4\xa2\xe3\x80\x82\xe5\xa6\x82\xe6\x9e\x9c\xe5\xb7\xb2\xe7\xbb\x8f\xe6\x89\xbe\xe5\x88\xb0\xe8\xa7\xa3\xef\xbc\x8c\xe5\x88\x99\xe7\x9b\xb4\xe6\x8e\xa5\xe9\x80\x80\xe5\x87\xba\n  }\n  return 1;\n}\n\nint main() {\n  while(scanf("%d%d", &n, &L) == 2 && n > 0) {\n    cnt = 0;\n    dfs(0);\n  }\n  return 0;\n}\n'