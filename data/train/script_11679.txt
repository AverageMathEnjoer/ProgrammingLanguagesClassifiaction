b'package org.sang.controller.admin;\n\nimport org.sang.bean.RespBean;\nimport org.sang.bean.Role;\nimport org.sang.bean.User;\nimport org.sang.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n/**\n * Created by sang on 2017/12/24.\n */\n@RestController\n@RequestMapping("/admin")\npublic class UserManaController {\n    @Autowired\n    UserService userService;\n\n    @RequestMapping(value = "/user", method = RequestMethod.GET)\n    public List<User> getUserByNickname(String nickname) {\n        return userService.getUserByNickname(nickname);\n    }\n\n    @RequestMapping(value = "/user/{id}", method = RequestMethod.GET)\n    public User getUserById(@PathVariable Long id) {\n        return userService.getUserById(id);\n    }\n\n    @RequestMapping(value = "/roles", method = RequestMethod.GET)\n    public List<Role> getAllRole() {\n        return userService.getAllRole();\n    }\n\n    @RequestMapping(value = "/user/enabled", method = RequestMethod.PUT)\n    public RespBean updateUserEnabled(Boolean enabled, Long uid) {\n        if (userService.updateUserEnabled(enabled, uid) == 1) {\n            return new RespBean("success", "\xe6\x9b\xb4\xe6\x96\xb0\xe6\x88\x90\xe5\x8a\x9f!");\n        } else {\n            return new RespBean("error", "\xe6\x9b\xb4\xe6\x96\xb0\xe5\xa4\xb1\xe8\xb4\xa5!");\n        }\n    }\n\n    @RequestMapping(value = "/user/{uid}", method = RequestMethod.DELETE)\n    public RespBean deleteUserById(@PathVariable Long uid) {\n        if (userService.deleteUserById(uid) == 1) {\n            return new RespBean("success", "\xe5\x88\xa0\xe9\x99\xa4\xe6\x88\x90\xe5\x8a\x9f!");\n        } else {\n            return new RespBean("error", "\xe5\x88\xa0\xe9\x99\xa4\xe5\xa4\xb1\xe8\xb4\xa5!");\n        }\n    }\n\n    @RequestMapping(value = "/user/role", method = RequestMethod.PUT)\n    public RespBean updateUserRoles(Long[] rids, Long id) {\n        if (userService.updateUserRoles(rids, id) == rids.length) {\n            return new RespBean("success", "\xe6\x9b\xb4\xe6\x96\xb0\xe6\x88\x90\xe5\x8a\x9f!");\n        } else {\n            return new RespBean("error", "\xe6\x9b\xb4\xe6\x96\xb0\xe5\xa4\xb1\xe8\xb4\xa5!");\n        }\n    }\n}\n'