b'package com.quyunshuo.androidbaseframemvvm.base.app\n\nimport android.app.Application\nimport android.content.Context\nimport android.util.Log\nimport java.util.*\n\n/**\n * \xe5\x8a\xa0\xe8\xbd\xbd\xe7\xbb\x84\xe4\xbb\xb6\xe4\xbb\xa3\xe7\x90\x86\xe7\xb1\xbb\n * \xe7\xbb\x84\xe4\xbb\xb6\xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\xe7\x9a\x84\xe5\xb7\xa5\xe4\xbd\x9c\xe5\xb0\x86\xe7\x94\xb1\xe8\xaf\xa5\xe4\xbb\xa3\xe7\x90\x86\xe7\xb1\xbb\xe4\xbb\xa3\xe7\x90\x86\xe5\xae\x9e\xe7\x8e\xb0\n *\n * @author Qu Yunshuo\n * @since 4/23/21 5:37 PM\n */\nclass LoadModuleProxy : ApplicationLifecycle {\n\n    private var mLoader: ServiceLoader<ApplicationLifecycle> =\n        ServiceLoader.load(ApplicationLifecycle::class.java)\n\n    /**\n     * \xe5\x90\x8c[Application.attachBaseContext]\n     * @param context Context\n     */\n    override fun onAttachBaseContext(context: Context) {\n        mLoader.forEach {\n            Log.d("ApplicationInit", it.toString())\n            it.onAttachBaseContext(context)\n        }\n    }\n\n    /**\n     * \xe5\x90\x8c[Application.onCreate]\n     * @param application Application\n     */\n    override fun onCreate(application: Application) {\n        mLoader.forEach { it.onCreate(application) }\n    }\n\n    /**\n     * \xe5\x90\x8c[Application.onTerminate]\n     * @param application Application\n     */\n    override fun onTerminate(application: Application) {\n        mLoader.forEach { it.onTerminate(application) }\n    }\n\n    /**\n     * \xe4\xb8\xbb\xe7\xba\xbf\xe7\xa8\x8b\xe5\x89\x8d\xe5\x8f\xb0\xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\n     * @return MutableList<() -> String> \xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\xe6\x96\xb9\xe6\xb3\x95\xe9\x9b\x86\xe5\x90\x88\n     */\n    override fun initByFrontDesk(): MutableList<() -> String> {\n        val list: MutableList<() -> String> = mutableListOf()\n        mLoader.forEach { list.addAll(it.initByFrontDesk()) }\n        return list\n    }\n\n    /**\n     * \xe4\xb8\x8d\xe9\x9c\x80\xe8\xa6\x81\xe7\xab\x8b\xe5\x8d\xb3\xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\xe7\x9a\x84\xe6\x94\xbe\xe5\x9c\xa8\xe8\xbf\x99\xe9\x87\x8c\xe8\xbf\x9b\xe8\xa1\x8c\xe5\x90\x8e\xe5\x8f\xb0\xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\n     */\n    override fun initByBackstage() {\n        mLoader.forEach { it.initByBackstage() }\n    }\n}'