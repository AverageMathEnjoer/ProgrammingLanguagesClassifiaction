b'\xef\xbb\xbf// UVa540 Team Queue\n// Rujia Liu\n#include<cstdio>\n#include<queue>\n#include<map>\nusing namespace std;\n\nconst int maxt = 1000 + 10;\n\nint main() {\n  int t, kase = 0;\n  while(scanf("%d", &t) == 1 && t) {\n    printf("Scenario #%d\\n", ++kase);\n\n    // \xe8\xae\xb0\xe5\xbd\x95\xe6\x89\x80\xe6\x9c\x89\xe4\xba\xba\xe7\x9a\x84\xe5\x9b\xa2\xe9\x98\x9f\xe7\xbc\x96\xe5\x8f\xb7\n    map<int, int> team; // team[x]\xe8\xa1\xa8\xe7\xa4\xba\xe7\xbc\x96\xe5\x8f\xb7\xe4\xb8\xbax\xe7\x9a\x84\xe4\xba\xba\xe6\x89\x80\xe5\x9c\xa8\xe7\x9a\x84\xe5\x9b\xa2\xe9\x98\x9f\xe7\xbc\x96\xe5\x8f\xb7\n    for(int i = 0; i < t; i++) {\n      int n, x;\n      scanf("%d", &n);\n      while(n--) { scanf("%d", &x); team[x] = i; }\n    }\n\n    // \xe6\xa8\xa1\xe6\x8b\x9f\n    queue<int> q, q2[maxt]; // q\xe6\x98\xaf\xe5\x9b\xa2\xe9\x98\x9f\xe7\x9a\x84\xe9\x98\x9f\xe5\x88\x97\xef\xbc\x8c\xe8\x80\x8cq2[i]\xe6\x98\xaf\xe5\x9b\xa2\xe9\x98\x9fi\xe6\x88\x90\xe5\x91\x98\xe7\x9a\x84\xe9\x98\x9f\xe5\x88\x97\n    for(;;) {\n      int x;\n      char cmd[10];\n      scanf("%s", cmd);\n      if(cmd[0] == \'S\') break;\n      else if(cmd[0] == \'D\') {\n        int t = q.front();\n        printf("%d\\n", q2[t].front()); q2[t].pop();\n        if(q2[t].empty()) q.pop(); // \xe5\x9b\xa2\xe4\xbd\x93t\xe5\x85\xa8\xe4\xbd\x93\xe5\x87\xba\xe9\x98\x9f\xe5\x88\x97\n      }\n      else if(cmd[0] == \'E\') {\n        scanf("%d", &x);\n        int t = team[x];\n        if(q2[t].empty()) q.push(t); // \xe5\x9b\xa2\xe9\x98\x9ft\xe8\xbf\x9b\xe5\x85\xa5\xe9\x98\x9f\xe5\x88\x97\n        q2[t].push(x);\n      }\n    }\n    printf("\\n");\n  }\n\n  return 0;\n} \n'