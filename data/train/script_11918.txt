b'\xef\xbb\xbf// UVa10048 Audiophobia\n// Rujia Liu\n// \xe9\xa2\x98\xe6\x84\x8f\xef\xbc\x9a\xe8\xbe\x93\xe5\x85\xa5\xe4\xb8\x80\xe4\xb8\xaa\xe6\x97\xa0\xe9\xa1\xb9\xe5\xb8\xa6\xe6\x9d\x83\xe5\x9b\xbe\xef\xbc\x8c\xe5\x9b\x9e\xe7\xad\x94\xe4\xb8\x80\xe4\xba\x9b\xe8\xaf\xa2\xe9\x97\xae\xef\xbc\x8c\xe8\xaf\xa2\xe9\x97\xae\xe5\x86\x85\xe5\xae\xb9\xe6\x98\xaf\xe9\x97\xae\xe6\x9f\x90\xe4\xb8\xa4\xe7\x82\xb9\xe9\x97\xb4\xe6\x9c\x80\xe5\xa4\xa7\xe6\x9d\x83\xe6\x9c\x80\xe5\xb0\x8f\xe7\x9a\x84\xe8\xb7\xaf\xe5\xbe\x84\n// \xe7\xae\x97\xe6\xb3\x95\xef\xbc\x9a\xe5\x8f\x98\xe5\xbd\xa2\xe7\x9a\x84floyd\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nconst int maxn = 100 + 5;\nconst int INF = 1000000000;\nint d[maxn][maxn];\n\nint main() {\n  int n, m, Q, u, v, w, kase = 0;\n  while(scanf("%d%d%d", &n, &m, &Q) == 3 && n) {\n    // \xe5\x88\x9d\xe5\xa7\x8b\xe5\x8c\x96\n    for(int i = 0; i < n; i++) {\n      d[i][i] = 0;\n      for(int j = i+1; j < n; j++) { d[i][j] = d[j][i] = INF; }\n    }\n    for(int i = 0; i < m; i++) {\n      scanf("%d%d%d", &u, &v, &w); u--; v--;\n      d[u][v] = min(d[u][v], w);\n      d[v][u] = d[u][v];\n    }\n    // \xe4\xb8\xbb\xe7\xae\x97\xe6\xb3\x95\n    for(int k = 0; k < n; k++)\n      for(int i = 0; i < n; i++)\n        for(int j = 0; j < n; j++)\n          if(d[i][k] < INF && d[k][j] < INF)\n            d[i][j] = min(d[i][j], max(d[i][k], d[k][j]));\n    // \xe8\xaf\xa2\xe9\x97\xae\n    if(kase) printf("\\n");\n    printf("Case #%d\\n", ++kase);\n    while(Q--) {\n      scanf("%d%d", &u, &v); u--; v--;\n      if(d[u][v] == INF) printf("no path\\n"); else printf("%d\\n", d[u][v]);\n    }\n  }\n  return 0;\n}\n'