b'package com.codeest.geeknews.ui.vtex.adapter;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v4.util.ArrayMap;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport com.codeest.geeknews.R;\nimport com.codeest.geeknews.app.Constants;\nimport com.codeest.geeknews.ui.vtex.activity.NodeListActivity;\nimport com.codeest.geeknews.util.SystemUtil;\nimport com.codeest.geeknews.widget.FlowLayout;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\n\n/**\n * Created by codeest on 16/12/29.\n */\n\npublic class NodeAdapter extends RecyclerView.Adapter<NodeAdapter.ViewHolder> {\n\n    private Context mContext;\n    private LayoutInflater inflater;\n    private ArrayMap<String, ArrayMap<String,String>> mMap;\n\n    public NodeAdapter(Context context, ArrayMap<String, ArrayMap<String,String>> mMap) {\n        this.mContext = context;\n        this.mMap = mMap;\n        inflater = LayoutInflater.from(mContext);\n    }\n\n    @Override\n    public NodeAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        return new ViewHolder(inflater.inflate(R.layout.item_node, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(ViewHolder holder, int position) {\n        holder.tvTitle.setText(mMap.keyAt(position));\n        holder.flContent.removeAllViews();\n        ArrayMap<String,String> mNodeBlock = mMap.valueAt(position);\n        for (ArrayMap.Entry<String,String> node : mNodeBlock.entrySet()) {\n            TextView tvNode = new TextView(mContext);\n            tvNode.setText(node.getValue());\n            tvNode.setTextColor(ContextCompat.getColor(mContext, R.color.colorText));\n            tvNode.setPadding(SystemUtil.dp2px(6f), SystemUtil.dp2px(6f), SystemUtil.dp2px(6f), SystemUtil.dp2px(6f));\n            tvNode.setOnClickListener(new OnNodeClickListener(node.getKey()));\n            holder.flContent.addView(tvNode);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return mMap.size();\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n\n        @BindView(R.id.tv_node_title)\n        TextView tvTitle;\n        @BindView(R.id.fl_node_content)\n        FlowLayout flContent;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            ButterKnife.bind(this, itemView);\n        }\n    }\n\n    private class OnNodeClickListener implements View.OnClickListener {\n\n        private String nodeName;\n\n        public OnNodeClickListener(String nodeName) {\n            this.nodeName = nodeName;\n        }\n\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent();\n            intent.setClass(mContext, NodeListActivity.class);\n            intent.putExtra(Constants.IT_VTEX_NODE_NAME, nodeName);\n            mContext.startActivity(intent);\n        }\n    }\n}\n'