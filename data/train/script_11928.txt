b'library(htmldf)\nlibrary(dplyr)\nlibrary(rvest)\ncontext("Check broken links")\n\n\ntest_that("Check broken", {\n  # gather links from page\n  pp <- read_html(\'https://github.com/alastairrushworth/free-data-science\') \n  links <- \n    pp %>% \n    html_nodes("article[class=\'markdown-body entry-content container-lg\']") %>%\n    html_nodes(\'a\') %>%\n    html_attr(\'href\') %>%\n    grep(\'^http\', ., value = TRUE) %>%\n    unique(.)\n  \n  # check links for problems\n  link_visit <- html_df(links)\n  \n  # check for any broken links\n  link_broken <- link_visit %>% filter(status != 200)\n  \n  # print any broken links\n  if(nrow(link_broken) > 0) print(link_broken$url)\n  \n  # expect\n  expect_equal(nrow(link_broken), 0)\n  \n})'