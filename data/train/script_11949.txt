b'package com.quyunshuo.androidbaseframemvvm.base.utils.network\n\nimport androidx.lifecycle.Lifecycle\nimport androidx.lifecycle.LifecycleObserver\nimport androidx.lifecycle.OnLifecycleEvent\n\n/**\n * \xe8\x87\xaa\xe5\x8a\xa8\xe6\xb3\xa8\xe5\x86\x8c\xe7\xbd\x91\xe7\xbb\x9c\xe7\x8a\xb6\xe6\x80\x81\xe7\x9b\x91\xe5\x90\xac\n * \xe4\xbd\xbf\xe7\x94\xa8\xe7\x9a\x84\xe6\x98\xaf[androidx.lifecycle.LifecycleObserver]\xe6\x9d\xa5\xe5\x90\x8c\xe6\xad\xa5\xe7\x94\x9f\xe5\x91\xbd\xe5\x91\xa8\xe6\x9c\x9f\n *\n * @author Qu Yunshuo\n * @since 2021/7/11 4:56 \xe4\xb8\x8b\xe5\x8d\x88\n */\nclass AutoRegisterNetListener constructor(listener: NetworkStateChangeListener) :\n    LifecycleObserver {\n\n    /**\n     * \xe5\xbd\x93\xe5\x89\x8d\xe9\x9c\x80\xe8\xa6\x81\xe8\x87\xaa\xe5\x8a\xa8\xe6\xb3\xa8\xe5\x86\x8c\xe7\x9a\x84\xe7\x9b\x91\xe5\x90\xac\xe5\x99\xa8\n     */\n    private var mListener: NetworkStateChangeListener? = null\n\n    init {\n        mListener = listener\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)\n    fun register() {\n        mListener?.run { NetworkStateClient.setListener(this) }\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)\n    fun unregister() {\n        NetworkStateClient.removeListener()\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_DESTROY)\n    fun clean() {\n        NetworkStateClient.removeListener()\n        mListener = null\n    }\n}'