b'{-# LANGUAGE CPP #-}\n{-# LANGUAGE NumericUnderscores #-}\n\nmodule Main where\n\n#ifdef USE_EVENTLOG\nimport Control.Concurrent (forkIO, threadDelay)\nimport Control.Monad (forever)\nimport Debug.Trace (flushEventLog)\nimport GHC.Eventlog.Socket (startWait)\n#endif\nimport Hoodle.Script (defaultScriptConfig)\nimport Hoodle.StartUp (hoodleStartMain)\n\nmain :: IO ()\nmain = do\n#ifdef USE_EVENTLOG\n  startWait "/tmp/eventlog.sock"\n  _ <- forkIO $\n    forever $ do\n      threadDelay 500_000\n      flushEventLog\n#endif\n  hoodleStartMain defaultScriptConfig\n'