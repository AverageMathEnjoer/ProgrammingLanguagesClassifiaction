b'll a[N], dp[N];\nconst ll inf = 1e16;\nvoid slide(vi &A, int b){\n\t//dp[i] = max(A[i], ... , A[i+k-1])\n\tint n = A.size();\n\tdeque<pii> win;\n\tint i;\n\t//move from left to right\n\t//initialse window [0, b-1]\n\tfo(i, b){\n\t\twhile(!win.empty() and win.back().F <= A[i]) win.pop_back();\n\t\twin.pb({A[i], i});\n\t}\n\tfo(i, n){\n\t\tdp[i] = win.front().F;\n\t\tint x = i+b;\n\t\tif(x<n) {\n\t\t\twhile(!win.empty() and win.back().F <= A[x]) win.pop_back();\n\t\t\twin.pb({A[x], x});\n\t\t}\n\t\twhile(!win.empty() and win.front().S <= i) win.pop_front();\n\t\t//if [i, i+b-1] doesnt exits => - inf\n\t\tif(i+b-1 >= n) dp[i] = -inf;\n\t}\n}\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(NULL);\n\tint i,n,k,j;\n\tcin >> n;\n\tvi A;\n\tA.resize(n, 0);\n\tfo(i, n) cin >> A[i];\n\tslide(A, 3);\n\tfo(i, n) cout << dp[i] << " " ;\n\treturn 0;\n} \n'