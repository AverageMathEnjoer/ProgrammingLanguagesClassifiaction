b'package com.github.eprendre.sources_by_eprendre\n\nimport com.github.eprendre.tingshu.extensions.config\nimport com.github.eprendre.tingshu.sources.AudioUrlDirectExtractor\nimport com.github.eprendre.tingshu.sources.AudioUrlExtraHeaders\nimport com.github.eprendre.tingshu.sources.AudioUrlExtractor\nimport com.github.eprendre.tingshu.sources.TingShu\nimport com.github.eprendre.tingshu.utils.*\nimport com.github.kittinunf.fuel.Fuel\nimport com.github.kittinunf.fuel.json.responseJson\nimport com.google.gson.Gson\nimport org.jsoup.Jsoup\nimport java.net.URI\nimport java.net.URL\nimport java.net.URLDecoder\nimport java.net.URLEncoder\nimport kotlin.math.ceil\n\nobject KouDaiWeiKeTang : TingShu(), AudioUrlExtraHeaders {\n    override fun getSourceId(): String {\n        return "578c6258c0ee4701b80a7135477cf685"\n    }\n\n    override fun getUrl(): String {\n        return "http://www.xiai123.com"\n    }\n\n    override fun getName(): String {\n        return "\xe5\x8f\xa3\xe8\xa2\x8b\xe5\xbe\xae\xe8\xaf\xbe\xe5\xa0\x82"\n    }\n\n    override fun getDesc(): String {\n        return "\xe6\x8e\xa8\xe8\x8d\x90\xe6\x8c\x87\xe6\x95\xb0:2\xe6\x98\x9f \xe2\xad\x90\xe2\xad\x90\\n\xe5\xb8\xa6\xe5\xad\xa9\xe5\xad\x90\xe7\x94\xa8"\n    }\n\n    override fun isSearchable(): Boolean {\n        return false\n    }\n\n    override fun search(keywords: String, page: Int): Pair<List<Book>, Int> {\n        return Pair(emptyList(), 1)\n    }\n\n    override fun isWebViewNotRequired(): Boolean {\n        return true\n    }\n\n    override fun getAudioUrlExtractor(): AudioUrlExtractor {\n        return AudioUrlDirectExtractor\n    }\n\n    override fun getCategoryMenus(): List<CategoryMenu> {\n        val menu1 = CategoryMenu(\n            "\xe8\x8b\xb1\xe8\xaf\xad", listOf(\n                CategoryTab("\xe9\xa6\x96\xe9\xa1\xb5\xe6\x8e\xa8\xe8\x8d\x90", "http://www.xiai123.com/index.html"),\n                CategoryTab("\xe8\xaf\x91\xe6\x9e\x97\xe7\x89\x88\xe5\xb0\x8f\xe5\xad\xa6", "http://www.xiai123.com/yilinbanyingyu.html"),\n                CategoryTab("\xe4\xba\xba\xe6\x95\x99PEP\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/rjpep.html"),\n                CategoryTab("\xe5\xa4\x96\xe7\xa0\x94\xe7\xa4\xbe\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/wysyy3q.html"),\n                CategoryTab("\xe5\xa4\x96\xe7\xa0\x94\xe7\xa4\xbe\xe4\xb8\x80\xe8\xb5\xb7", "http://www.xiai123.com/wysyy.html"),\n                CategoryTab("\xe8\xbe\xbd\xe5\xb8\x88\xe5\xa4\xa7\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/lsdbklyy3q.html"),\n                CategoryTab("EEC\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/eecyy3q.html"),\n                CategoryTab("\xe7\xa7\x91\xe6\x99\xae\xe7\x89\x88\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/kpbyy.html"),\n                CategoryTab("\xe9\x87\x8d\xe5\xba\x86\xe7\x89\x88\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/cqbyy3q.html"),\n                CategoryTab("\xe5\xb9\xbf\xe5\xb7\x9e\xe7\x89\x88\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/gzbyy3q.html"),\n                CategoryTab("\xe6\xb9\x98\xe5\xb0\x91\xe7\x89\x88\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/xsbyy3q.html"),\n                CategoryTab("\xe6\x96\xb0\xe7\x89\x88(\xe7\xb2\xbe\xe9\x80\x9a)", "http://www.xiai123.com/xbyyjt3q.html"),\n                CategoryTab("\xe6\xb2\xaa\xe7\x89\x9b\xe6\xb4\xa5\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/shnjyy3q.html"),\n                CategoryTab("\xe5\x86\x80\xe6\x95\x99\xe7\x89\x88\xe4\xb8\x80\xe8\xb5\xb7", "http://www.xiai123.com/jjbyy1q.html"),\n                CategoryTab("\xe5\x86\x80\xe6\x95\x99\xe7\x89\x88\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/jjbyy3q.html"),\n                CategoryTab("\xe5\x89\x91\xe6\xa1\xa5\xe7\x89\x88\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/jqxxyy3q.html"),\n                CategoryTab("\xe6\x96\xb0\xe8\xb5\xb7\xe7\x82\xb9\xe4\xb8\x80\xe8\xb5\xb7", "http://www.xiai123.com/xqdyy1q.html"),\n                CategoryTab("\xe5\xb9\xbf\xe4\xb8\x9c\xe7\x89\x88\xe5\xbc\x80\xe5\xbf\x83", "http://www.xiai123.com/gdbyy3q.html"),\n                CategoryTab("\xe9\x99\x95\xe6\x97\x85\xe7\x89\x88\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/sxlybyy3q.html"),\n                CategoryTab("\xe5\x8c\x97\xe4\xba\xac\xe7\x89\x88\xe4\xb8\x80\xe8\xb5\xb7", "http://www.xiai123.com/bjbyy1q.html"),\n                CategoryTab("\xe6\xb8\x85\xe5\x8d\x8e\xe7\x89\x88\xe4\xb8\x80\xe8\xb5\xb7", "http://www.xiai123.com/qhbyy1q.html"),\n                CategoryTab("\xe6\xb9\x98\xe9\xb2\x81\xe7\x89\x88\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/xlbyy3q.html"),\n                CategoryTab("\xe5\x8c\x97\xe5\xb8\x88\xe5\xa4\xa7\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/bsdbyy3q.html"),\n                CategoryTab("\xe5\x8c\x97\xe5\xb8\x88\xe5\xa4\xa7\xe4\xb8\x80\xe8\xb5\xb7", "http://www.xiai123.com/bsdbyy1q.html"),\n                CategoryTab("\xe5\xb7\x9d\xe6\x95\x99\xe6\x96\xb0\xe8\xb7\xaf\xe5\xbe\x84", "http://www.xiai123.com/cjbxljyy3q.html"),\n                CategoryTab("\xe9\xb2\x81\xe7\xa7\x91\xe7\x89\x88\xe4\xb8\x89\xe8\xb5\xb7", "http://www.xiai123.com/lkbyy54z3q.html"),\n                CategoryTab("\xe4\xba\xba\xe6\x95\x99\xe7\x89\x88\xe9\xab\x98\xe4\xb8\xad", "http://www.xiai123.com/gaozhongyingyu-rjbxkb.html"),\n                CategoryTab("\xe5\x9b\xbd\xe9\x99\x85\xe9\x9f\xb3\xe6\xa0\x87", "http://www.xiai123.com/48geguojiyingyuyinbiaofayin.html"),\n                CategoryTab("\xe8\xaf\x91\xe6\x9e\x97\xe7\x89\x88\xe5\x88\x9d\xe4\xb8\xad", "http://www.xiai123.com/yilinbanyingyu-chuzhong.html"),\n                CategoryTab("\xe6\x96\xb0\xe7\x9b\xae\xe6\xa0\x87\xe5\x88\x9d\xe4\xb8\xad", "http://www.xiai123.com/rjbxmbyy-chuzhong.html"),\n                CategoryTab("\xe6\xb2\xaa\xe7\x89\x9b\xe6\xb4\xa5\xe5\x88\x9d\xe4\xb8\xad", "http://www.xiai123.com/njyyshb-chuzhong.html"),\n                CategoryTab("\xe5\x86\x80\xe6\x95\x99\xe7\x89\x88\xe5\x88\x9d\xe4\xb8\xad", "http://www.xiai123.com/jjbyy3q-chuzhong.html"),\n                CategoryTab("\xe5\xa4\x96\xe7\xa0\x94\xe7\xa4\xbe\xe5\x88\x9d\xe4\xb8\xad", "http://www.xiai123.com/wysyy-chuzhong.html"),\n                CategoryTab("\xe9\xb2\x81\xe6\x95\x99\xe7\x89\x88\xe5\x88\x9d\xe4\xb8\xad", "http://www.xiai123.com/ljbyy54z-chuzhong.html"),\n                CategoryTab("\xe5\x8c\x97\xe5\xb8\x88\xe5\xa4\xa7\xe5\x88\x9d\xe4\xb8\xad", "http://www.xiai123.com/bsdbyy-chuzhong.html"),\n                CategoryTab("\xe5\xa4\x96\xe7\xa0\x94\xe7\xa4\xbe\xe9\xab\x98\xe4\xb8\xad", "http://www.xiai123.com/gaozhongyingyu-wysxbz.html")\n            )\n        )\n        val menu2 = CategoryMenu(\n            "\xe8\xaf\xad\xe6\x96\x87", listOf(\n                CategoryTab("\xe4\xba\xba\xe6\x95\x99\xe7\x89\x88\xe5\xb0\x8f\xe5\xad\xa6", "http://www.xiai123.com/rjxiaoxueyuwen.html"),\n                CategoryTab("\xe8\x8b\x8f\xe6\x95\x99\xe7\x89\x88\xe5\xb0\x8f\xe5\xad\xa6", "http://www.xiai123.com/sujiao-xiaoxueyuwen.html"),\n                CategoryTab("\xe8\xaf\xad\xe6\x96\x87S\xe7\x89\x88\xe5\xb0\x8f\xe5\xad\xa6", "http://www.xiai123.com/ywsb-xiaoxueyuwen.html"),\n                CategoryTab("\xe8\xa5\xbf\xe5\xb8\x88\xe5\xa4\xa7\xe5\xb0\x8f\xe5\xad\xa6", "http://www.xiai123.com/xsdbyw-xiaoxueyuwen.html"),\n                CategoryTab("\xe5\x8c\x97\xe5\xb8\x88\xe5\xa4\xa7\xe5\xb0\x8f\xe5\xad\xa6", "http://www.xiai123.com/bsdbyw-xiaoxueyuwen.html"),\n                CategoryTab("\xe6\xb9\x98\xe6\x95\x99\xe7\x89\x88\xe5\xb0\x8f\xe5\xad\xa6", "http://www.xiai123.com/xjbyw-xiaoxueyuwen.html"),\n                CategoryTab("\xe4\xba\xba\xe6\x95\x99\xe7\x89\x88\xe5\x88\x9d\xe4\xb8\xad", "http://www.xiai123.com/rjchuzhongyuwen.html"),\n                CategoryTab("\xe9\xb2\x81\xe6\x95\x99\xe7\x89\x88\xe5\x88\x9d\xe4\xb8\xad", "http://www.xiai123.com/ljbyw54z-chuzhong.html"),\n                CategoryTab("\xe4\xb8\x8a\xe4\xb8\x8b\xe4\xba\x94\xe5\x8d\x83\xe5\xb9\xb4", "http://www.xiai123.com/zhonghuashangxiawuqiannian.html"),\n                CategoryTab("\xe8\xa5\xbf\xe6\xb8\xb8\xe8\xae\xb0", "http://www.xiai123.com/xiyouji-sunjingxiu.html"),\n                CategoryTab("\xe4\xb8\x89\xe5\x9b\xbd\xe6\xbc\x94\xe4\xb9\x89", "http://www.xiai123.com/sanguoyanyi-caocan.html"),\n                CategoryTab("\xe5\x91\xa8\xe6\x98\x93", "http://www.xiai123.com/zhouyi.html"),\n                CategoryTab("\xe8\x80\x81\xe5\xad\x90\xe9\x81\x93\xe5\xbe\xb7\xe7\xbb\x8f", "http://www.xiai123.com/daodejing.html")\n            )\n        )\n\n        val menu3 = CategoryMenu(\n            "\xe5\x8e\x86\xe5\x8f\xb2", listOf(\n                CategoryTab("\xe5\xb7\x9d\xe6\x95\x99\xe7\x89\x88\xe5\x8e\x86\xe5\x8f\xb2", "http://www.xiai123.com/cjchuzhonglishi.html")\n            )\n        )\n\n        return listOf(menu1, menu2, menu3)\n    }\n\n    override fun getCategoryList(url: String): Category {\n        val currentPage = 1\n        val pageCount = 1\n        val doc = Jsoup.connect(url).config().get()\n        val list = ArrayList<Book>()\n        doc.select(".index_item > ul > li > a").forEach {\n            val coverUrl = it.selectFirst("img").absUrl("src")\n            val title = it.text()\n            val bookUrl = it.absUrl("href")\n            if (bookUrl != "http://www.xiai123.com/kewen.html") {\n                list.add(Book(coverUrl, bookUrl, title, "", "").apply {\n                    this.sourceId = getSourceId()\n                })\n            }\n        }\n        return Category(list, currentPage, pageCount, url, "")\n    }\n\n    override fun getBookDetailInfo(bookUrl: String, loadEpisodes: Boolean, loadFullPages: Boolean): BookDetail {\n        val episodes = ArrayList<Episode>()\n        if (loadEpisodes) {\n            val doc = Jsoup.connect(bookUrl).config().get()\n            val url = doc.select(".biaoqian1 > div > script").first {\n                it.attr("src").startsWith("http")\n            }.attr("src")\n\n            val js = Fuel.get(url).responseString().third.get()\n                .replace("\\t", "")\n                .replace("\\r\\n", "")\n                .replace("\'", "\\"")\n                .replace("title:", "\\"title\\":")\n                .replace("singer:", "\\"singer\\":")\n                .replace("cover:", "\\"cover\\":")\n                .replace("src:", "\\"src\\":")\n            val result = Regex("(\\\\[.+])").find(js)?.groupValues?.get(1)\n            Gson().fromJson(result, Array<TempBean>::class.java).toList()\n                .forEach {\n                    val u = it.src\n                    val audioUrl = if (URLDecoder.decode(u, "UTF-8") != u) {//\xe5\xb7\xb2\xe7\xbc\x96\xe7\xa0\x81\n                        u\n                    } else {//\xe6\x9c\xaa\xe7\xbc\x96\xe7\xa0\x81\n                        val url1 = URL(u)\n                        val uri = URI(url1.protocol, url1.userInfo, url1.host, url1.port, url1.path, url1.query, url1.ref)\n                        uri.toASCIIString()//\xe8\x8b\xa5\xe9\x9f\xb3\xe9\xa2\x91\xe5\x9c\xb0\xe5\x9d\x80\xe5\x90\xab\xe4\xb8\xad\xe6\x96\x87\xe4\xbc\x9a\xe5\xaf\xbc\xe8\x87\xb4\xe6\x9f\x90\xe4\xba\x9b\xe8\xae\xbe\xe5\xa4\x87\xe6\x92\xad\xe6\x94\xbe\xe5\xa4\xb1\xe8\xb4\xa5\n                    }\n                    episodes.add(Episode(it.title, audioUrl))\n                }\n        }\n        return BookDetail(episodes)\n    }\n\n    data class TempBean(\n        val title: String,\n        val singer: String,\n        val cover: String,\n        val src: String\n    )\n\n    override fun headers(audioUrl: String): Map<String, String> {\n        val hashMap = hashMapOf<String, String>()\n        if (audioUrl.contains("xiai123")) {\n            hashMap["Host"] = URL(audioUrl).host\n            hashMap["Referer"] = "http://www.xiai123.com/"\n        }\n        return hashMap\n    }\n}'