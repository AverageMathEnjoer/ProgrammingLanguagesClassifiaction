b'// UVa12186 Another Crisis\n// Rujia Liu\n#include<cstdio>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n\nconst int maxn = 100000 + 5;\nint n, T;\nvector<int> sons[maxn];\n\nint dp(int u) {\n  if(sons[u].empty()) return 1;\n  int k = sons[u].size();\n  vector<int> d;\n  for(int i = 0; i < k; i++)\n    d.push_back(dp(sons[u][i]));\n  sort(d.begin(), d.end());\n  int c = (k*T - 1) / 100 + 1;\n  int ans = 0;\n  for(int i = 0; i < c; i++) ans += d[i];\n  return ans;\n}\n\nint main() {\n  int f;\n  while(scanf("%d%d", &n, &T) == 2 && n) {\n    for(int i = 0; i <= n; i++) sons[i].clear();\n    for(int i = 1; i <= n; i++) {\n      scanf("%d", &f);\n      sons[f].push_back(i);\n    }\n    printf("%d\\n", dp(0));\n  }\n  return 0;\n}\n'