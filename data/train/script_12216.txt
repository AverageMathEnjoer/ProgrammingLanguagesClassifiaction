b'package com.codeest.geeknews.ui.main.adapter;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.codeest.geeknews.R;\nimport com.codeest.geeknews.app.Constants;\nimport com.codeest.geeknews.component.ImageLoader;\nimport com.codeest.geeknews.model.bean.RealmLikeBean;\nimport com.codeest.geeknews.presenter.vtex.VtexPresenter;\nimport com.codeest.geeknews.ui.gank.activity.GirlDetailActivity;\nimport com.codeest.geeknews.ui.gank.activity.TechDetailActivity;\nimport com.codeest.geeknews.ui.vtex.activity.RepliesActivity;\nimport com.codeest.geeknews.ui.zhihu.activity.ZhihuDetailActivity;\n\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\n\n/**\n * Created by codeest on 16/8/23.\n */\n\npublic class LikeAdapter extends RecyclerView.Adapter<RecyclerView.ViewHolder>{\n\n    private Context mContext;\n    private List<RealmLikeBean> mList;\n    private LayoutInflater inflater;\n\n    private static final int TYPE_ARTICLE = 0;\n    private static final int TYPE_GIRL = 1;\n\n    public LikeAdapter(Context mContext,List<RealmLikeBean> mList) {\n        this.mContext = mContext;\n        this.mList = mList;\n        inflater = LayoutInflater.from(mContext);\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        if(mList.get(position).getType() == Constants.TYPE_GIRL) {\n            return TYPE_GIRL;\n        } else {\n            return TYPE_ARTICLE;\n        }\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        if (viewType == TYPE_ARTICLE) {\n            return new ArticleViewHolder(inflater.inflate(R.layout.item_like_article, parent, false));\n        } else {\n            return new GirlViewHolder(inflater.inflate(R.layout.item_like_girl, parent, false));\n        }\n    }\n\n    @Override\n    public void onBindViewHolder(final RecyclerView.ViewHolder holder, int position) {\n        if(holder instanceof ArticleViewHolder) {\n            ((ArticleViewHolder) holder).title.setText(mList.get(position).getTitle());\n            switch (mList.get(position).getType()) {\n                case Constants.TYPE_ZHIHU:\n                    if (mList.get(position).getImage() != null) {\n                        ImageLoader.load(mContext, mList.get(position).getImage(), ((ArticleViewHolder) holder).image);\n                    } else {\n                        ((ArticleViewHolder) holder).image.setImageResource(R.mipmap.ic_launcher);\n                    }\n                    ((ArticleViewHolder) holder).from.setText("\xe6\x9d\xa5\xe8\x87\xaa \xe7\x9f\xa5\xe4\xb9\x8e");\n                    holder.itemView.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            gotoDailyDetail(Integer.valueOf(mList.get(holder.getAdapterPosition()).getId()));\n                        }\n                    });\n                    break;\n                case Constants.TYPE_ANDROID:\n                    ((ArticleViewHolder) holder).image.setImageResource(R.mipmap.ic_android);\n                    ((ArticleViewHolder) holder).from.setText("\xe6\x9d\xa5\xe8\x87\xaa \xe5\xb9\xb2\xe8\xb4\xa7");\n                    holder.itemView.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            gotoTechDetail(mList.get(holder.getAdapterPosition()).getUrl(), null, mList.get(holder.getAdapterPosition()).getTitle()\n                                    ,mList.get(holder.getAdapterPosition()).getId(), Constants.TYPE_ANDROID);\n                        }\n                    });\n                    break;\n                case Constants.TYPE_IOS:\n                    ((ArticleViewHolder) holder).image.setImageResource(R.mipmap.ic_ios);\n                    ((ArticleViewHolder) holder).from.setText("\xe6\x9d\xa5\xe8\x87\xaa \xe5\xb9\xb2\xe8\xb4\xa7");\n                    holder.itemView.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            gotoTechDetail(mList.get(holder.getAdapterPosition()).getUrl(), null, mList.get(holder.getAdapterPosition()).getTitle()\n                                    ,mList.get(holder.getAdapterPosition()).getId(), Constants.TYPE_IOS);\n                        }\n                    });\n                    break;\n                case Constants.TYPE_WEB:\n                    ((ArticleViewHolder) holder).image.setImageResource(R.mipmap.ic_web);\n                    ((ArticleViewHolder) holder).from.setText("\xe6\x9d\xa5\xe8\x87\xaa \xe5\xb9\xb2\xe8\xb4\xa7");\n                    holder.itemView.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            gotoTechDetail(mList.get(holder.getAdapterPosition()).getUrl(), null ,mList.get(holder.getAdapterPosition()).getTitle()\n                                    ,mList.get(holder.getAdapterPosition()).getId(), Constants.TYPE_WEB);\n                        }\n                    });\n                    break;\n                case Constants.TYPE_WECHAT:\n                    ImageLoader.load(mContext, mList.get(position).getId(), ((ArticleViewHolder) holder).image);\n                    ((ArticleViewHolder) holder).from.setText("\xe6\x9d\xa5\xe8\x87\xaa \xe5\xbe\xae\xe4\xbf\xa1");\n                    holder.itemView.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            gotoTechDetail(mList.get(holder.getAdapterPosition()).getUrl(), mList.get(holder.getAdapterPosition()).getImage(), mList.get(holder.getAdapterPosition()).getTitle()\n                                    ,mList.get(holder.getAdapterPosition()).getId(), Constants.TYPE_WECHAT);\n                        }\n                    });\n                    break;\n                case Constants.TYPE_GOLD:\n                    if (mList.get(position).getImage() != null) {\n                        ImageLoader.load(mContext, mList.get(position).getImage(), ((ArticleViewHolder) holder).image);\n                    } else {\n                        ((ArticleViewHolder) holder).image.setImageResource(R.mipmap.ic_launcher);\n                    }\n                    ((ArticleViewHolder) holder).from.setText("\xe6\x9d\xa5\xe8\x87\xaa \xe6\x8e\x98\xe9\x87\x91");\n                    holder.itemView.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            gotoTechDetail(mList.get(holder.getAdapterPosition()).getUrl(), mList.get(holder.getAdapterPosition()).getImage(), mList.get(holder.getAdapterPosition()).getTitle()\n                                    ,mList.get(holder.getAdapterPosition()).getId(), Constants.TYPE_GOLD);\n                        }\n                    });\n                    break;\n                case Constants.TYPE_VTEX:\n                    if (mList.get(position).getImage() != null) {\n                        ImageLoader.load(mContext, VtexPresenter.parseImg(mList.get(position).getImage()), ((ArticleViewHolder) holder).image);\n                    } else {\n                        ((ArticleViewHolder) holder).image.setImageResource(R.mipmap.ic_launcher);\n                    }\n                    ((ArticleViewHolder) holder).from.setText("\xe6\x9d\xa5\xe8\x87\xaa V2EX");\n                    holder.itemView.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            gotoVtexDetail(mList.get(holder.getAdapterPosition()).getId());\n                        }\n                    });\n                    break;\n            }\n        } else if(holder instanceof GirlViewHolder) {\n            ImageLoader.load(mContext, mList.get(position).getImage(), ((GirlViewHolder) holder).image);\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    gotoGirlDetail(mList.get(holder.getAdapterPosition()).getImage(),mList.get(holder.getAdapterPosition()).getId());\n                }\n            });\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return mList.size();\n    }\n\n    public static class ArticleViewHolder extends RecyclerView.ViewHolder {\n\n        @BindView(R.id.iv_article_image)\n        ImageView image;\n        @BindView(R.id.tv_article_title)\n        TextView title;\n        @BindView(R.id.tv_article_from)\n        TextView from;\n\n        public ArticleViewHolder(View itemView) {\n            super(itemView);\n            ButterKnife.bind(this,itemView);\n        }\n\n    }\n\n    public static class GirlViewHolder extends RecyclerView.ViewHolder {\n\n        @BindView(R.id.iv_girl_image)\n        ImageView image;\n\n        public GirlViewHolder(View itemView) {\n            super(itemView);\n            ButterKnife.bind(this,itemView);\n        }\n    }\n\n    private void gotoDailyDetail(int id) {\n        Intent intent = new Intent();\n        intent.setClass(mContext, ZhihuDetailActivity.class);\n        intent.putExtra(Constants.IT_ZHIHU_DETAIL_ID, id);\n        intent.putExtra(Constants.IT_ZHIHU_DETAIL_TRANSITION, true);\n        mContext.startActivity(intent);\n    }\n\n    private void gotoTechDetail(String url, String imgUrl, String title, String id, int type) {\n        TechDetailActivity.launch(new TechDetailActivity.Builder()\n                .setContext(mContext)\n                .setUrl(url)\n                .setImgUrl(imgUrl)\n                .setId(id)\n                .setTitle(title)\n                .setType(type));\n    }\n\n    private void gotoGirlDetail(String url,String id) {\n        Intent intent = new Intent();\n        intent.setClass(mContext, GirlDetailActivity.class);\n        intent.putExtra(Constants.IT_GANK_GRIL_URL, url);\n        intent.putExtra(Constants.IT_GANK_GRIL_ID, id);\n        mContext.startActivity(intent);\n    }\n\n    private void gotoVtexDetail(String topicId) {\n        Intent intent = new Intent();\n        intent.setClass(mContext, RepliesActivity.class);\n        intent.putExtra(Constants.IT_VTEX_TOPIC_ID,topicId);\n        mContext.startActivity(intent);\n    }\n}\n'