b'package com.codeest.geeknews.widget;\n\nimport android.text.TextUtils;\nimport android.util.Log;\n\nimport com.codeest.geeknews.base.BaseView;\nimport com.codeest.geeknews.model.http.exception.ApiException;\nimport com.codeest.geeknews.util.LogUtil;\n\nimport io.reactivex.subscribers.ResourceSubscriber;\nimport retrofit2.HttpException;\n\n/**\n * Created by codeest on 2017/2/23.\n */\n\npublic abstract class CommonSubscriber<T> extends ResourceSubscriber<T> {\n    private BaseView mView;\n    private String mErrorMsg;\n    private boolean isShowErrorState = true;\n\n    protected CommonSubscriber(BaseView view){\n        this.mView = view;\n    }\n\n    protected CommonSubscriber(BaseView view, String errorMsg){\n        this.mView = view;\n        this.mErrorMsg = errorMsg;\n    }\n\n    protected CommonSubscriber(BaseView view, boolean isShowErrorState){\n        this.mView = view;\n        this.isShowErrorState = isShowErrorState;\n    }\n\n    protected CommonSubscriber(BaseView view, String errorMsg, boolean isShowErrorState){\n        this.mView = view;\n        this.mErrorMsg = errorMsg;\n        this.isShowErrorState = isShowErrorState;\n    }\n\n    @Override\n    public void onComplete() {\n\n    }\n\n    @Override\n    public void onError(Throwable e) {\n        if (mView == null) {\n            return;\n        }\n        if (mErrorMsg != null && !TextUtils.isEmpty(mErrorMsg)) {\n            mView.showErrorMsg(mErrorMsg);\n        } else if (e instanceof ApiException) {\n            mView.showErrorMsg(e.toString());\n        } else if (e instanceof HttpException) {\n            mView.showErrorMsg("\xe6\x95\xb0\xe6\x8d\xae\xe5\x8a\xa0\xe8\xbd\xbd\xe5\xa4\xb1\xe8\xb4\xa5\xe3\x83\xbd(\xe2\x89\xa7\xd0\x94\xe2\x89\xa6)\xe3\x83\x8e");\n        } else {\n            mView.showErrorMsg("\xe6\x9c\xaa\xe7\x9f\xa5\xe9\x94\x99\xe8\xaf\xaf\xe3\x83\xbd(\xe2\x89\xa7\xd0\x94\xe2\x89\xa6)\xe3\x83\x8e");\n            LogUtil.d(e.toString());\n        }\n        if (isShowErrorState) {\n            mView.stateError();\n        }\n    }\n}\n'