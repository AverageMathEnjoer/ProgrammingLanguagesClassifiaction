b'#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 2e6;\nmap<int, long long> my[N];\nvoid update(int st, int lo, int hi, int pos, int val){\n\tmy[st][val]++;\n\tif(lo == hi){\n\t\treturn;\n\t}\n\tint l = 2*st, r = l+1, mid = (lo+hi)/2;\n\tif(pos>mid) update(r, mid+1, hi, pos, val);\n\telse update(l, lo, mid, pos, val);\n}\nlong long query(int st, int lo, int hi, int x, int y, int val){\n\tif(lo == x and hi == y){\n\t\treturn my[st][val];\n\t}\n\tint l = 2*st, r = l+1, mid = (lo+hi)/2;\n\tif(x>mid) return query(r, mid+1, hi, x, y, val);\n\telse if(y<=mid) return query(l, lo, mid, x, y, val);\n\treturn query(l ,lo , mid, x, mid, val) + query(r, mid+1, hi, mid+1, y, val);\n}\n\nint main() {\n\tint n, i, q, k, l, t, r;\n\tcin >> n >> q;\n\twhile(q--){\n\t\tcin >> t >> l >> r;\n\t\tif(t == 1){\n\t\t\t//add l to a[r]\n\t\t\tupdate(1, 0, n-1, r-1, l);\n\t\t}\n\t\telse{\n\t\t\t//count of k from a[l] to a[r].\n\t\t\tcin >> k;\n\t\t\tcout << query(1, 0, n-1, l-1, r-1, k) << endl;\n\t\t}\n\t}\n\treturn 0;\n}'