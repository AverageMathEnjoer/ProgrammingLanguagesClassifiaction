b'/*\n    SPDX-FileCopyrightText: 2015-2017 Milian Wolff <mail@milianw.de>\n\n    SPDX-License-Identifier: LGPL-2.1-or-later\n*/\n\n#include <tsl/robin_map.h>\n\n#include "bench_pointers.h"\n#include "src/util/indices.h"\n\nstruct PointerHashMap\n{\n    PointerHashMap()\n    {\n        map.reserve(65536);\n    }\n\n    void addPointer(const uint64_t ptr, const AllocationInfoIndex index)\n    {\n        map[ptr] = index;\n    }\n\n    std::pair<AllocationInfoIndex, bool> takePointer(const uint64_t ptr)\n    {\n        auto it = map.find(ptr);\n        if (it == map.end()) {\n            return {{}, false};\n        }\n        auto ret = std::make_pair(it->second, true);\n        map.erase(it);\n        return ret;\n    }\n\n    tsl::robin_map<uint64_t, AllocationInfoIndex> map;\n};\n\nint main()\n{\n    benchPointers<PointerHashMap>();\n    return 0;\n}\n'