b'package com.droidcba.kedditbysteps.features.news.adapter\n\nimport android.support.v7.widget.RecyclerView\nimport android.view.ViewGroup\nimport com.droidcba.kedditbysteps.R\nimport com.droidcba.kedditbysteps.commons.RedditNewsItem\nimport com.droidcba.kedditbysteps.commons.adapter.ViewType\nimport com.droidcba.kedditbysteps.commons.adapter.ViewTypeDelegateAdapter\nimport com.droidcba.kedditbysteps.commons.extensions.getFriendlyTime\nimport com.droidcba.kedditbysteps.commons.extensions.inflate\nimport com.droidcba.kedditbysteps.commons.extensions.loadImg\nimport kotlinx.android.synthetic.main.news_item.view.*\n\nclass NewsDelegateAdapter(val viewActions: onViewSelectedListener) : ViewTypeDelegateAdapter {\n\n    interface onViewSelectedListener {\n        fun onItemSelected(url: String?)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup): RecyclerView.ViewHolder {\n        return NewsViewHolder(parent)\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, item: ViewType) {\n        holder as NewsViewHolder\n        holder.bind(item as RedditNewsItem)\n    }\n\n    inner class NewsViewHolder(parent: ViewGroup) : RecyclerView.ViewHolder(\n            parent.inflate(R.layout.news_item)) {\n\n        private val imgThumbnail = itemView.img_thumbnail\n        private val description = itemView.description\n        private val author = itemView.author\n        private val comments = itemView.comments\n        private val time = itemView.time\n\n        fun bind(item: RedditNewsItem) {\n            imgThumbnail.loadImg(item.thumbnail)\n            description.text = item.title\n            author.text = item.author\n            comments.text = "${item.numComments} comments"\n            time.text = item.created.getFriendlyTime()\n\n            super.itemView.setOnClickListener { viewActions.onItemSelected(item.url)}\n        }\n    }\n}'