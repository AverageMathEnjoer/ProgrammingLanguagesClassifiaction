b'@file:JvmName("TimeUtils")\n\npackage com.droidcba.kedditbysteps.commons.extensions\n\nimport java.util.*\n\nfun Long.getFriendlyTime(): String {\n    val dateTime = Date(this * 1000)\n    val sb = StringBuffer()\n    val current = Calendar.getInstance().time\n    var diffInSeconds = ((current.time - dateTime.time) / 1000).toInt()\n\n    val sec = if (diffInSeconds >= 60) (diffInSeconds % 60) else diffInSeconds\n    diffInSeconds /= 60\n    val min = if (diffInSeconds >= 60) (diffInSeconds % 60) else diffInSeconds\n    diffInSeconds /= 60\n    val hrs = if (diffInSeconds >= 24) (diffInSeconds % 24) else diffInSeconds\n    diffInSeconds /= 24\n    val days = if (diffInSeconds >= 30) (diffInSeconds % 30) else diffInSeconds\n    diffInSeconds /= 30\n    val months = if (diffInSeconds >= 12) (diffInSeconds % 12) else diffInSeconds\n    diffInSeconds /= 12\n    val years = diffInSeconds\n\n    if (years > 0) {\n        if (years == 1) {\n            sb.append("a year")\n        } else {\n            sb.append("$years years")\n        }\n        if (years <= 6 && months > 0) {\n            if (months == 1) {\n                sb.append(" and a month")\n            } else {\n                sb.append(" and $months months")\n            }\n        }\n    } else if (months > 0) {\n        if (months == 1) {\n            sb.append("a month")\n        } else {\n            sb.append("$months months")\n        }\n        if (months <= 6 && days > 0) {\n            if (days == 1) {\n                sb.append(" and a day")\n            } else {\n                sb.append(" and $days days")\n            }\n        }\n    } else if (days > 0) {\n        if (days == 1) {\n            sb.append("a day")\n        } else {\n            sb.append("$days days")\n        }\n        if (days <= 3 && hrs > 0) {\n            if (hrs == 1) {\n                sb.append(" and an hour")\n            } else {\n                sb.append(" and $hrs hours")\n            }\n        }\n    } else if (hrs > 0) {\n        if (hrs == 1) {\n            sb.append("an hour")\n        } else {\n            sb.append("$hrs hours")\n        }\n        if (min > 1) {\n            sb.append(" and $min minutes")\n        }\n    } else if (min > 0) {\n        if (min == 1) {\n            sb.append("a minute")\n        } else {\n            sb.append("$min minutes")\n        }\n        if (sec > 1) {\n            sb.append(" and $sec seconds")\n        }\n    } else {\n        if (sec <= 1) {\n            sb.append("about a second")\n        } else {\n            sb.append("about $sec seconds")\n        }\n    }\n\n    sb.append(" ago")\n\n    return sb.toString()\n}'