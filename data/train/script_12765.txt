b'package io.github.javiewer.adapter;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport io.github.javiewer.R;\nimport io.github.javiewer.activity.GalleryActivity;\nimport io.github.javiewer.adapter.item.Movie;\nimport io.github.javiewer.adapter.item.Screenshot;\nimport io.github.javiewer.view.ViewUtil;\n\n/**\n * Project: JAViewer\n */\n\npublic class ScreenshotAdapter extends RecyclerView.Adapter<ScreenshotAdapter.ViewHolder> {\n\n    private List<Screenshot> screenshots;\n\n    private Activity mParentActivity;\n\n    private ImageView mIcon;\n\n    private Movie movie;\n\n    public ScreenshotAdapter(List<Screenshot> screenshots, Activity mParentActivity, ImageView mIcon, Movie movie) {\n        this.screenshots = screenshots;\n        this.mParentActivity = mParentActivity;\n        this.mIcon = mIcon;\n        this.movie = movie;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_screenshot, parent, false);\n\n        return new ViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(final ViewHolder holder, int position) {\n        Screenshot screenshot = screenshots.get(position);\n\n        holder.mImage.setImageDrawable(null);\n        Glide.with(holder.mImage.getContext().getApplicationContext())\n                .load(screenshot.getThumbnailUrl())\n                .into(holder.mImage);\n\n        holder.mImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent i = new Intent(mParentActivity, GalleryActivity.class);\n                Bundle bundle = new Bundle();\n\n                String[] urls = new String[screenshots.size()];\n                for (int k = 0; k < screenshots.size(); k++) {\n                    urls[k] = screenshots.get(k).getImageUrl();\n                }\n                bundle.putStringArray("urls", urls);\n                bundle.putSerializable("movie", movie);\n                bundle.putInt("position", holder.getAdapterPosition());\n                i.putExtras(bundle);\n                mParentActivity.startActivity(i);\n\n            }\n        });\n\n        if (position == 0) {\n            ViewUtil.alignIconToView(mIcon, holder.mImage);\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return screenshots == null ? 0 : screenshots.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        @BindView(R.id.screenshot_image_view)\n        public ImageView mImage;\n\n        public ViewHolder(View view) {\n            super(view);\n            ButterKnife.bind(this, view);\n        }\n    }\n}\n'