b'package io.github.javiewer.adapter;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport io.github.javiewer.R;\nimport io.github.javiewer.activity.MovieActivity;\nimport io.github.javiewer.adapter.item.Movie;\n\n/**\n * Project: JAViewer\n */\npublic class MovieAdapter extends ItemAdapter<Movie, MovieAdapter.ViewHolder> {\n\n    protected boolean showIfHot = true;\n    private Activity mParentActivity;\n\n    public MovieAdapter(List<Movie> movies, Activity mParentActivity) {\n        super(movies);\n        this.mParentActivity = mParentActivity;\n    }\n\n    @Override\n    public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.card_movie, parent, false);\n\n        return new ViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(final ViewHolder holder, int position) {\n        final Movie movie = getItems().get(position);\n\n        holder.parse(movie);\n\n        holder.mCard.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(mParentActivity, MovieActivity.class);\n                Bundle bundle = new Bundle();\n                bundle.putSerializable("movie", movie);\n                intent.putExtras(bundle);\n\n                mParentActivity.startActivity(intent);\n            }\n        });\n\n        holder.mImageCover.setImageDrawable(null);\n        Glide.with(holder.mImageCover.getContext().getApplicationContext())\n                .load(movie.getCoverUrl())\n                .into(holder.mImageCover);\n\n        holder.mImageHot.setVisibility(movie.isHot() && showIfHot ? View.VISIBLE : View.GONE);\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n\n        @BindView(R.id.movie_title)\n        public TextView mTextTitle;\n\n        @BindView(R.id.movie_size)\n        public TextView mTextCode;\n\n        @BindView(R.id.movie_date)\n        public TextView mTextDate;\n\n        @BindView(R.id.movie_cover)\n        public ImageView mImageCover;\n\n        @BindView(R.id.movie_hot)\n        public ImageView mImageHot;\n\n        @BindView(R.id.card_movie)\n        public CardView mCard;\n\n        public ViewHolder(View view) {\n            super(view);\n\n            ButterKnife.bind(this, view);\n        }\n\n        public void parse(Movie movie) {\n            mTextCode.setText(movie.getCode());\n            mTextTitle.setText(movie.getTitle());\n            mTextDate.setText(movie.getDate());\n        }\n    }\n}\n'