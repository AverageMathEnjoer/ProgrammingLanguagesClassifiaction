b'\xef\xbb\xbf#load "packages/FsLab/FsLab.fsx"\n\n#load "parseScripts.fs"\n\nopen FSharp.Data\nopen System\nopen System.IO\nopen StarWars.ParseScripts\n\n// ===========================================================================\n// Extract character names from the scripts\n\nlet allNames =\n  scriptUrls\n  |> List.mapi (fun episodeIdx (episode, url) ->\n      getCharactersByScene url\n      |> Array.concat)\n  |> Array.concat\n  |> filterClutterTerms\n  |> Array.countBy id\n  |> Seq.filter (snd >> (<) 1)  // filter out characters that speak in only one scene\n\nfor (name, count) in allNames do printfn "%s - %d" name count\n\n// Now follows a manual step - filter out names that are not actual names of characters\n// such as "PILOT" or "GUARD"\n\n// Print the selected character names\nlet characters = File.ReadAllLines(__SOURCE_DIRECTORY__ + "/data/characters.csv")\ncharacters |> Array.sort |> Array.iter (printfn "%s")\n\n'