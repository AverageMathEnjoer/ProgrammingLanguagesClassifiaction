b"module Main (main) where\n\nimport Control.Monad.Trans (liftIO)\nimport Snap.Http.Server\nimport Snap.Core\n\nimport Rest.Driver.Snap (apiToHandler')\n\nimport Api (api)\nimport ApiTypes (ServerData (..), runBlogApi)\nimport Example (exampleBlog)\n\n-- | Run the server\nmain :: IO ()\nmain = do\n  -- Set up the server state\n  serverData <- exampleBlog\n\n  -- Setup the Snap configuration.\n  let cfg = setPort 3000\n          . setAccessLog ConfigNoLog\n          . setErrorLog  ConfigNoLog\n          $ defaultConfig\n\n  -- Start snap\n  httpServe cfg (handle serverData)\n\n-- | Request handler\nhandle :: ServerData -> Snap ()\nhandle serverData = apiToHandler' (liftIO . runBlogApi serverData) api\n\n"