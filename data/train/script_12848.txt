b'package com.bennyhuo.kotlin.js.deepcopy\n\n/**\n * Created by benny.\n */\ninterface DeepCopyable\n\nfun <T : DeepCopyable> T.deepCopy(): T {\n    val constructor = this::class.js.asDynamic()\n    val newInstance = js("{}")\n    newInstance.__proto__ = constructor.prototype\n    val parameters = (1..Int.MAX_VALUE).takeWhile {\n        constructor.prototype["component$it"] !== undefined\n    }.map {\n        constructor.prototype["component$it"].call(this).unsafeCast<Any>()\n            .let {\n                (it as? DeepCopyable)?.deepCopy() ?: it\n            }\n    }.toTypedArray()\n    constructor.apply(newInstance, parameters)\n    return newInstance as T\n}'