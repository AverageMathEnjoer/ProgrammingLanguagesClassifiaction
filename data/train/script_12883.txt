b'\xef\xbb\xbf// UVa10817 Headmaster\'s Headache\n// Rujia Liu\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<sstream>\nusing namespace std;\n\nconst int maxn = 100 + 20 + 5;\nconst int maxs = 8;\nconst int INF = 1000000000;\nint m, n, s, c[maxn], st[maxn], d[maxn][1<<maxs][1<<maxs];\n\n// s1\xe6\x98\xaf\xe4\xb8\x80\xe4\xb8\xaa\xe4\xba\xba\xe6\x95\x99\xe7\x9a\x84\xe7\xa7\x91\xe7\x9b\xae\xe9\x9b\x86\xe5\x90\x88\xef\xbc\x8cs2\xe6\x98\xaf\xe4\xb8\xa4\xe4\xb8\xaa\xe4\xba\xba\xe6\x95\x99\xe7\x9a\x84\xe7\xa7\x91\xe7\x9b\xae\xe9\x9b\x86\xe5\x90\x88\nint dp(int i, int s0, int s1, int s2) {\n  if(i == m+n) return s2 == (1<<s) - 1 ? 0 : INF;\n  int& ans = d[i][s1][s2];\n  if(ans >= 0) return ans;\n\n  ans = INF;\n  if(i >= m) ans = dp(i+1, s0, s1, s2); // \xe4\xb8\x8d\xe9\x80\x89\n\n  // \xe9\x80\x89\n  int m0 = st[i] & s0, m1 = st[i] & s1;\n  s0 ^= m0;\n  s1 = (s1 ^ m1) | m0;\n  s2 |= m1;\n  ans = min(ans, c[i] + dp(i+1, s0, s1, s2));\n  return ans;\n}\n\nint main() {\n  int x;\n  string line;\n  while(getline(cin, line)) {\n    stringstream ss(line);\n    ss >> s >> m >> n;\n    if(s == 0) break;\n\n    for(int i = 0; i < m+n; i++) {\n      getline(cin, line);\n      stringstream ss(line);\n      ss >> c[i];\n      st[i] = 0;\n      while(ss >> x) st[i] |= (1 << (x-1));\n    }\n    memset(d, -1, sizeof(d));\n    cout << dp(0, (1<<s)-1, 0, 0) << "\\n";\n  }\n  return 0;\n}\n'