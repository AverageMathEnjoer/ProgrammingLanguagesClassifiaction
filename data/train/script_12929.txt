b'\xef\xbb\xbfusing System;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Transactions;\nusing Castle.DynamicProxy;\nusing Core.Utilities.Interceptors;\n\nnamespace Core.Aspects.Autofac.Transaction\n{\n    public class TransactionScopeAspect : MethodInterception\n    {\n        public override void Intercept(IInvocation invocation)\n        {\n            using (TransactionScope transactionScope = new TransactionScope())\n            {\n                try\n                {\n                    invocation.Proceed();\n                    transactionScope.Complete();\n                }\n                catch (System.Exception e)\n                {\n                    transactionScope.Dispose();\n                    throw;\n                }\n            }\n        }\n    }\n}\n'