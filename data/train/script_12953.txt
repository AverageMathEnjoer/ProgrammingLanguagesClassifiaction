b'package com.codeest.geeknews.presenter.gank;\n\nimport com.codeest.geeknews.base.RxPresenter;\nimport com.codeest.geeknews.model.DataManager;\nimport com.codeest.geeknews.model.bean.GankItemBean;\nimport com.codeest.geeknews.model.http.response.GankHttpResponse;\nimport com.codeest.geeknews.base.contract.gank.GirlContract;\nimport com.codeest.geeknews.util.RxUtil;\nimport com.codeest.geeknews.widget.CommonSubscriber;\n\nimport java.util.List;\n\nimport javax.inject.Inject;\n\n/**\n * Created by codeest on 16/8/19.\n */\n\npublic class GirlPresenter extends RxPresenter<GirlContract.View> implements GirlContract.Presenter{\n\n    private DataManager mDataManager;\n\n    public static final int NUM_OF_PAGE = 20;\n\n    private int currentPage = 1;\n\n    @Inject\n    public GirlPresenter(DataManager mDataManager) {\n        this.mDataManager = mDataManager;\n    }\n\n    @Override\n    public void getGirlData() {\n        currentPage = 1;\n        addSubscribe(mDataManager.fetchGirlList(NUM_OF_PAGE,currentPage)\n                .compose(RxUtil.<GankHttpResponse<List<GankItemBean>>>rxSchedulerHelper())\n                .compose(RxUtil.<List<GankItemBean>>handleResult())\n                .subscribeWith(new CommonSubscriber<List<GankItemBean>>(mView) {\n                    @Override\n                    public void onNext(List<GankItemBean> gankItemBeen) {\n                        mView.showContent(gankItemBeen);\n                    }\n                })\n        );\n    }\n\n    @Override\n    public void getMoreGirlData() {\n        addSubscribe(mDataManager.fetchGirlList(NUM_OF_PAGE,++currentPage)\n                .compose(RxUtil.<GankHttpResponse<List<GankItemBean>>>rxSchedulerHelper())\n                .compose(RxUtil.<List<GankItemBean>>handleResult())\n                .subscribeWith(new CommonSubscriber<List<GankItemBean>>(mView, false) {\n                    @Override\n                    public void onNext(List<GankItemBean> gankItemBeen) {\n                        mView.showMoreContent(gankItemBeen);\n                    }\n                })\n        );\n    }\n}\n'