b'/**\n * Copyright (C) 2020 Fernando Cejas Open Source Project\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\npackage com.fernandocejas.sample.features.movies\n\nimport com.fernandocejas.sample.UnitTest\nimport com.fernandocejas.sample.core.functional.Either.Right\nimport io.mockk.every\nimport io.mockk.impl.annotations.MockK\nimport io.mockk.verify\nimport kotlinx.coroutines.runBlocking\nimport org.junit.Before\nimport org.junit.Test\n\nclass GetMovieDetailsTest : UnitTest() {\n\n    private lateinit var getMovieDetails: GetMovieDetails\n\n    @MockK private lateinit var moviesRepository: MoviesRepository\n\n    @Before fun setUp() {\n        getMovieDetails = GetMovieDetails(moviesRepository)\n        every { moviesRepository.movieDetails(MOVIE_ID) } returns Right(MovieDetails.empty)\n    }\n\n    @Test fun `should get data from repository`() {\n        runBlocking { getMovieDetails.run(GetMovieDetails.Params(MOVIE_ID)) }\n\n        verify(exactly = 1) { moviesRepository.movieDetails(MOVIE_ID) }\n    }\n\n    companion object {\n        private const val MOVIE_ID = 1\n    }\n}\n'