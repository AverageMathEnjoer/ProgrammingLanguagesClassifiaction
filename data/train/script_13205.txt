b'// UVa1220 Party at Hali-Bula\n// Rujia Liu\n//\n// rev 2: fixed bug reported by EndlessCheng\n#include<cstdio>\n#include<iostream>\n#include<string>\n#include<algorithm>\n#include<vector>\n#include<map>\nusing namespace std;\n\nconst int maxn = 200 + 5;\n\nint cnt;\nvector<int> sons[maxn];\nint n, d[maxn][2], f[maxn][2];\n\nmap<string, int> dict;\nint ID(const string& s) {\n  if(!dict.count(s)) dict[s] = cnt++;\n  return dict[s];\n}\n\nint dp(int u, int k) {\n  f[u][k] = 1;\n  d[u][k] = k;\n  for(int i = 0; i < sons[u].size(); i++) {\n    int v = sons[u][i];\n    if(k == 1) {\n      d[u][1] += dp(v, 0);\n      if(!f[v][0]) f[u][1] = 0;\n    } else {\n      d[u][0] += max(dp(v, 0), dp(v, 1));\n      if(d[v][0] == d[v][1]) f[u][k] = 0;\n      else if(d[v][0] > d[v][1] && !f[v][0]) f[u][k] = 0;\n      else if(d[v][1] > d[v][0] && !f[v][1]) f[u][k] = 0;\n    }\n  }\n  return d[u][k];\n}\n\nint main() {\n  string s, s2;\n  while(cin >> n >> s) {\n    cnt = 0;\n    dict.clear();\n    for(int i = 0; i < n; i++) sons[i].clear();\n\n    ID(s);\n    for(int i = 0; i < n-1; i++) {\n      cin >> s >> s2;\n      sons[ID(s2)].push_back(ID(s));\n    }\n    printf("%d ", max(dp(0, 0), dp(0, 1)));\n    bool unique = false;\n    if(d[0][0] > d[0][1] && f[0][0]) unique = true;\n    if(d[0][1] > d[0][0] && f[0][1]) unique = true;\n    if(unique) printf("Yes\\n"); else printf("No\\n");\n  }\n  return 0;\n}\n'