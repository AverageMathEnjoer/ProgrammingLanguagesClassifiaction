b'module Cachix.Types.NarInfoHash\n  ( NarInfoHash (..),\n  )\nwhere\n\nimport Data.Swagger (ToParamSchema, ToSchema)\nimport Data.Text (dropEnd, takeEnd)\nimport Protolude\nimport Servant.API\n\n-- | Store path hash\nnewtype NarInfoHash = NarInfoHash {unnarinfohash :: Text}\n  deriving (Generic, ToSchema, ToParamSchema)\n\ninstance FromHttpApiData NarInfoHash where\n  parseUrlPiece s =\n    if takeEnd 8 s == ".narinfo"\n      then Right $ NarInfoHash (dropEnd 8 s)\n      else Left ""\n\ninstance ToHttpApiData NarInfoHash where\n  toUrlPiece (NarInfoHash n) = n <> ".narinfo"\n'